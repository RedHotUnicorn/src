---
title: ะะฑัะพะปััะฝัะน ะผะธะฝะธะผัะผ ะพะฑ Unicode ะฝะฐ 2023 ะณะพะด (ะฒัั ะตัั โ ะฝะธะบะฐะบะธั ะพะฟัะฐะฒะดะฐะฝะธะน!) /
  ะฅะฐะฑั
date: 2023-12-18
src_link: https://www.notion.so/Unicode-2023-86d20e208caf4d869449be5b3952e29b
src_date: '2023-12-18 16:18:00'
gold_link: https://habr.com/ru/companies/wunderfund/articles/777850/
gold_link_hash: 903e4500e074563eb3633f05393bc4c6
tags:
- '#host_habr_com'
---

![](https://habrastorage.org/getpro/habr/upload_files/25d/29a/2fd/25d29a2fd51ed537f12a9831d4a4732b.png)ะะฒะฐะดัะฐัั ะปะตั ะฝะฐะทะฐะด [ะะถะพัะป ะกะฟะพะปััะบะธ](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) ะฝะฐะฟะธัะฐะป:


> *ะะต ัััะตััะฒัะตั ัะฐะบะพะน ัััะบะธ, ะบะฐะบ ยซะพะฑััะฝัะน ัะตะบััยป.*
> 
> *ะัะปะธ ะธะผะตะตััั ัััะพะบะฐ, ะฝะพ ะฝะตะธะทะฒะตััะฝะพ, ะบะฐะบัั ะบะพะดะธัะพะฒะบั ัะธะผะฒะพะปะพะฒ ะพะฝะฐ ะธัะฟะพะปัะทัะตั โ ัะผััะปะฐ ะฒ ััะพะน ัััะพะบะต ะฝะตั. ะะพะปััะต ะฝะตะปัะทั ัะฟัััะฐัั ะณะพะปะพะฒั ะฒ ะฟะตัะพะบ ะธ ะฟัะธัะฒะพัะธัััั, ััะพ ยซะพะฑััะฝัะนยป ัะตะบัั ะธะผะตะตั ะบะพะดะธัะพะฒะบั ASCII.*

ะะฝะพะณะพะต ะธะทะผะตะฝะธะปะพัั ะทะฐ 20ยะปะตั. ะ 2003ยะณะพะดั ะณะปะฐะฒะฝัะน ะฒะพะฟัะพั ะทะฒััะฐะป ัะฐะบ: ยซ*ะงัะพ ััะพ ะทะฐยะบะพะดะธัะพะฒะบะฐ?*ยป. ะ 2023ยะณะพะดั ัะฐะบะพะน ะฒะพะฟัะพั ะฑะพะปััะต ะฝะตยััะพะธั: ัยะฒะตัะพััะฝะพัััั ะฒ 98% ััะพยโ UTF-8. ะะฐะบะพะฝะตั ัะพ! ะะพะถะฝะพ ัะฝะพะฒะฐ ัะฟัััะฐัั ะณะพะปะพะฒั ะฒยะฟะตัะพะบ!

![](https://habrastorage.org/getpro/habr/upload_files/ee4/36a/81f/ee436a81fe507235d5a7159f6149cb90.png)ะขะตะฟะตัั ะณะปะฐะฒะฝัะน ะฒะพะฟัะพั ะฒ ัะพะผ, ะบะฐะบ ะฟัะฐะฒะธะปัะฝะพ ะฟะพะปัะทะพะฒะฐัััั UTF-8. ะะฐะฒะฐะนัะต ััะพ ะฒัััะฝะธะผ!

### ะงัะพ ัะฐะบะพะต Unicode?

Unicodeยโ ััะพ ััะฐะฝะดะฐัั, ัะตะปั ะบะพัะพัะพะณะพยโ ัะฝะธัะธัะธัะพะฒะฐัั ะฒัะต ัะตะปะพะฒะตัะตัะบะธะต ัะทัะบะธ, ะธ ะดัะตะฒะฝะธะต, ะธ ัะพะฒัะตะผะตะฝะฝัะต, ะธ ัะดะตะปะฐัั ัะฐะบ, ััะพะฑั ะธะผะธ ะผะพะถะฝะพยะฑัะปะพยะฑั ะฟะพะปัะทะพะฒะฐัััั ะฒยะบะพะผะฟัััะตัะฝะพะน ััะตะดะต.

ะกยะฟัะฐะบัะธัะตัะบะพะน ัะพัะบะธ ะทัะตะฝะธั Unicodeยโ ััะพ ัะฐะฑะปะธัะฐ, ะบะพัะพัะฐั ะฝะฐะทะฝะฐัะฐะตั ัะฝะธะบะฐะปัะฝัะต ะฝะพะผะตัะฐ ัะฐะทะปะธัะฝัะผ ัะธะผะฒะพะปะฐะผ.

ะะฐะฟัะธะผะตั:

* ะะฐัะธะฝัะบะพะน ะทะฐะณะปะฐะฒะฝะพะน ะฑัะบะฒะต `A` ะฝะฐะทะฝะฐัะตะฝะพ ัะธัะปะพ `65`.
* ะัะฐะฑัะบะฐั ะฑัะบะฒะฐ ัะธะฝ `ุณ` โ ััะพ ัะธัะปะพ `1587`.
* ะัะบะฒะฐ ัั ะธะท ะบะฐัะฐะบะฐะฝั `ใ` โ ััะพ `12484`.
* ะกะบัะธะฟะธัะฝัะน ะบะปัั `๐` โ `119070`.
* ๐ฉ โ ััะพ `128169`.

ะ ัะตัะผะธะฝะพะปะพะณะธะธ Unicode ััะธ ัะธัะปะฐ ะฝะฐะทัะฒะฐัััั ะบะพะดะพะฒัะผะธ ัะพัะบะฐะผะธ.

ะขะฐะบ ะบะฐะบ ะฒัะต ะฒ ะผะธัะต ัะพะณะปะฐัะฝั ั ัะตะผ, ะบะฐะบะพะต ัะธัะปะพ ัะพะพัะฒะตัััะฒัะตั ะบะฐะบะพะผั ัะธะผะฒะพะปั, ะธ ัะฐะบ ะบะฐะบ ะฒัะต ะผั ัะพะณะปะฐัะฝั ะธัะฟะพะปัะทะพะฒะฐัั Unicode, ะผั ะผะพะถะตะผ ัะธัะฐัั ัะตะบััั ะดััะณ ะดััะณะฐ.

Unicode == ัะธะผะฒะพะป โท ะบะพะดะพะฒะฐั ัะพัะบะฐ.
----------------------------------



---

### ะะฐะบะพะฒั ัะฐะทะผะตัั Unicode?

ะยะฝะฐััะพััะตะต ะฒัะตะผั ัะฐะผะฐั ะฑะพะปััะฐั ะพะฟัะตะดะตะปัะฝะฝะฐั ะบะพะดะพะฒะฐั ัะพัะบะฐ ะธะผะตะตั ะฝะพะผะตั 0ร10FFFF. ะญัะพ ะดะฐัั ะฝะฐะผ ะฟัะพัััะฐะฝััะฒะพ ะธะทยะฟัะธะผะตัะฝะพ 1,1ยะผะธะปะปะธะพะฝะฐ ะบะพะดะพะฒัั ัะพัะตะบ.

ะะบะพะปะพ 170ย000, ะธะปะธ 15% ะบะพะดะพะฒัั ัะพัะตะบ ัะถะต ะพะฟัะตะดะตะปะตะฝะพ. ะะพะฟะพะปะฝะธัะตะปัะฝัะต 11% ะทะฐัะตะทะตัะฒะธัะพะฒะฐะฝั ะดะปัยัะฐััะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั. ะััะฐะฒัะธะผัั ะบะพะดะพะฒัะผ ัะพัะบะฐะผ, ะบะพัะพััั ะพะบะพะปะพ 800ย000, ะฟะพะบะฐ ะฝะธัะตะณะพ ะฝะตยะฝะฐะทะฝะฐัะตะฝะพ. ะะฝะธ ะผะพะณัั ััะฐัั ัะธะผะฒะพะปะฐะผะธ ะฒยะฑัะดััะตะผ.

ะะพั ะบะฐะบ, ะดะพะฒะพะปัะฝะพ ะณััะฑะพ, ะฒัั ััะพ ะฒัะณะปัะดะธั.

![](https://habrastorage.org/getpro/habr/upload_files/ba1/8d2/5c5/ba18d25c5f5e7d51bdafa98700deb632.png)ะะฐ ััะพะผ ัะธััะฝะบะต ะฑะพะปััะธะต ะบะฒะฐะดัะฐัั (ะฟะปะพัะบะพััะธ) ะฟัะตะดััะฐะฒะปััั ะฝะฐะฑะพัั ะธะท 65536 ัะธะผะฒะพะปะพะฒ. ะะฐะปะตะฝัะบะธะต โ ะฝะฐะฑะพัั ะธะท 256 ัะธะผะฒะพะปะพะฒ. ะัั ัะฐะฑะปะธัะฐ ASCII ัะผะตัะฐะตััั ะฒ ะฟะพะปะพะฒะธะฝั ะผะฐะปะตะฝัะบะพะณะพ ะบัะฐัะฝะพะณะพ ะบะฒะฐะดัะฐัะธะบะฐ, ะฝะฐัะพะดััะตะณะพัั ะฒ ะฒะตััะฝะตะผ ะปะตะฒะพะผ ัะณะปั ัะธััะฝะบะฐ.

### ะงัะพ ะฟะพะฝะธะผะฐัั ะฟะพะด ยซัะฐััะฝัะผ ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผยป ะบะพะดะพะฒัั ัะพัะตะบ?

ะะตัั ะธะดัั ะพ ะบะพะดะพะฒัั ัะพัะบะฐั, ะทะฐัะตะทะตัะฒะธัะพะฒะฐะฝะฝัั ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ ะฟัะธะปะพะถะตะฝะธะน. ะญัะธ ะบะพะดะพะฒัะต ัะพัะบะธ ะฝะธะบะพะณะดะฐ ะฝะต ะฑัะดัั ะธัะฟะพะปัะทะพะฒะฐัััั ะดะปั ะฝัะถะด ัะฐะผะพะณะพ ััะฐะฝะดะฐััะฐ Unicode.

ะะฐะฟัะธะผะตั, ะฒ Unicode ะฝะตั ััะฐะฝะดะฐััะฝะพะณะพ ะผะตััะฐ ะดะปั ะปะพะณะพัะธะฟะฐ ะบะพะผะฟะฐะฝะธะธ Apple. ะะพััะพะผั Apple ะฟะพะผะตััะธะปะฐ ัะพะพัะฒะตัััะฒัััะธะน ะทะฝะฐัะพะบ ะฟะพ ะฐะดัะตัั `U+F8FF`, ะบะพัะพััะน ะฝะฐัะพะดะธััั ะฒ ะฑะปะพะบะต ะบะพะดะพะฒัั ัะพัะตะบ, ะฒัะดะตะปะตะฝะฝัั ะดะปั ัะฐััะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั. ะัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ััะธััะฐ, ะบะพัะพััะน ะฟะพััะฐะฒะปัะตััั ั macOS, ััะฐ ะบะพะดะพะฒะฐั ัะพัะบะฐ ะฒัะฒะตะดะตััั ะบะฐะบ ะทะฝะฐัะพะบ ![](https://habrastorage.org/getpro/habr/upload_files/e47/8eb/c53/e478ebc53f34fc09a6040856b6059d28.png). ะ ะฒ ัะตะบััะต, ะพัะพัะผะปะตะฝะฝะพะผ ััะธััะพะผ, ะบะพัะพััะน ััะพั ะทะฝะฐัะพะบ ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั, ะฒะผะตััะพ ะฝะตะณะพ ะฑัะดะตั ะฒัะฒะตะดะตะฝ ัะธะผะฒะพะป ะพััััััะฒัััะตะณะพ ะณะปะธัะฐ โ![](https://habrastorage.org/getpro/habr/upload_files/5b0/e2c/dd0/5b0e2cdd04e27b1e8ea40240be1f581d.png).

ะะฑะปะฐััั Unicode, ะฒัะดะตะปะตะฝะฝะฐั ะฟะพะด ัะฐััะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต, ัะพะดะตัะถะธั, ะฒ ะพัะฝะพะฒะฝะพะผ, ััะธััั, ัะพััะพััะธะต ะธะท ะทะฝะฐัะบะพะฒ.

![](https://habrastorage.org/getpro/habr/upload_files/bb3/108/61c/bb310861c13a05841a1e052a7299be14.png)### ะงัะพ ะพะทะฝะฐัะฐะตั ะบะพะฝััััะบัะธั U+1F4A9?

ะญัะพ โ ะฟัะธะผะตั ะฟัะธะผะตะฝะตะฝะธั ะฟัะฐะฒะธะปะฐ ะทะฐะฟะธัะธ ะทะฝะฐัะตะฝะธะน ะบะพะดะพะฒัั ัะพัะตะบ. ะะดะตัั `U+` ะพะทะฝะฐัะฐะตั, ะบะฐะบ ะผะพะถะฝะพ ะดะพะณะฐะดะฐัััั, Unicode, ะฐ `1F4A9` โ ััะพ ัะตััะฝะฐะดัะฐัะตัะธัะฝัะน ะฝะพะผะตั ะบะพะดะพะฒะพะน ัะพัะบะธ.

ะ `U+1F4A9` โ ััะพ ัะธะผะฒะพะป ๐ฉ.

### ะ ััะพ ะถะต ัะฐะบะพะต ัะพะณะดะฐ UTF-8?

UTF-8ยโ ััะพ ะบะพะดะธัะพะฒะบะฐ. ะะพะดะธัะพะฒะบะฐยโ ััะพ ะพะฟะธัะฐะฝะธะต ัะพะณะพ, ะบะฐะบยะบะพะดะพะฒัะต ัะพัะบะธ ััะฐะฝัััั ะฒยะฟะฐะผััะธ.

ะกะฐะผะฐั ะฟัะพััะฐั ะบะพะดะธัะพะฒะบะฐ ะดะปัยUnicodeยโ ััะพ UTF-32. ะัะธยะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ะบะพะดะพะฒัะต ัะพัะบะธ ััะฐะฝัััั ะฒยะฒะธะดะต 32-ะฑะธัะฝัั ัะตะปัั ัะธัะตะป. ะยัะตะทัะปััะฐัะต `U+1F4A9`ยััะฐะฝะพะฒะธััั `00 01ยF4ยA9`, ะทะฐะฝะธะผะฐั ัะตัััะต ะฑะฐะนัะฐ. ะัะฑะฐั ะดััะณะฐั ะบะพะดะพะฒะฐั ัะพัะบะฐ ะฒยะบะพะดะธัะพะฒะบะต UTF-32ยัะพะถะต ะทะฐะนะผัั ัะตัััะต ะฑะฐะนัะฐ. ะขะฐะบ ะบะฐะบยัะฐะผะฐั ะฑะพะปััะฐั ะธะทยะพะฟัะตะดะตะปัะฝะฝัั ะบะพะดะพะฒัั ัะพัะตะบยโ ััะพ `U+10FFFF`, ัะฐะบะพะน ะฟะพะดัะพะด ะณะฐัะฐะฝัะธััะตั ัะพ, ััะพยัยะตะณะพ ะฟะพะผะพััั ะผะพะถะฝะพ ะทะฐะฟะธัะฐัั ะปัะฑัั ะบะพะดะพะฒัั ัะพัะบั.

ะะพะดะธัะพะฒะบะธ UTF-16ยะธ UTF-8ยััััะพะตะฝั ัะถะต ะฝะตยัะฐะบ ะฟัะพััะพ, ะฝะพยะบะพะฝะตัะฝะฐั ัะตะปั ะธั ะฟัะธะผะตะฝะตะฝะธั ะพััะฐัััั ัะพะนยะถะต ัะฐะผะพะน, ััะพยะธ ะฒยัะปััะฐะต ัยUTF-32: ะฒะทััั ะบะพะดะพะฒัั ัะพัะบั ะธ ะทะฐะบะพะดะธัะพะฒะฐัั ะตั ะฝะตะบะธะผ ะฝะฐะฑะพัะพะผ ะฑะฐะนัะพะฒ.

ะะพะดะธัะพะฒะบะฐ ัะธะผะฒะพะปะพะฒยโ ััะพ ะบะฐะบยัะฐะท ะธ ะตััั ัะพ, ัยัะตะผ ัะฐะฑะพัะฐัั ะฟัะพะณัะฐะผะผะธััั.

### ะกะบะพะปัะบะพ ะฑะฐะนัะพะฒ ะธัะฟะพะปัะทัะตััั ะฒ UTF-8?

UTF-8 โ ััะพ ะบะพะดะธัะพะฒะบะฐ ัะธะผะฒะพะปะพะฒ ะฟะตัะตะผะตะฝะฝะพะน ะดะปะธะฝั. ะะพะดะพะฒะฐั ัะพัะบะฐ ะผะพะถะตั ะฑััั ะฟัะตะดััะฐะฒะปะตะฝะฐ ะฒ ะฒะธะดะต ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ะดะปะธะฝะพะน ะพั ะพะดะฝะพะณะพ ะดะพ ัะตััััั ะฑะฐะนัะพะฒ.

ะะพั ะบะฐะบ ะพะฝะฐ ััััะพะตะฝะฐ:



| ะะพะดะพะฒะฐั ัะพัะบะฐ | ะะฐะนั 1 | ะะฐะนั 2 | ะะฐะนั 3 | ะะฐะนั 4 |
| --- | --- | --- | --- | --- |
| U+0000..007F | 0xxxxxxx |
| U+0080..07FF | 110xxxxx | 10xxxxxx |
| U+0800..FFFF | 1110xxxx | 10xxxxxx | 10xxxxxx |
| U+10000..10FFFF | 11110xxx | 10xxxxxx | 10xxxxxx | 10xxxxxx |

ะัะปะธ ัะบะพะผะฑะธะฝะธัะพะฒะฐัั ััะพ ัยัะฐะฑะปะธัะตะน Unicodeยโ ะผะพะถะฝะพ ัะฒะธะดะตัั, ััะพยัะธะผะฒะพะปั ะฐะฝะณะปะธะนัะบะพะณะพ ัะทัะบะฐ ะบะพะดะธัััััั ัยะฟะพะผะพััั 1ยะฑะฐะนัะฐ. ะยะบะธัะธะปะปะธัะต ะธ ะฒยะปะฐัะธะฝะพะตะฒัะพะฟะตะนัะบะธั ัะทัะบะฐั, ะฒยะธะฒัะธัะต ะธ ะฒยะฐัะฐะฑัะบะพะผ ัะทัะบะต ะธัะฟะพะปัะทััััั 2ยะฑะฐะนัะฐ. ะยะบะธัะฐะนัะบะพะผ, ัะฟะพะฝัะบะพะผ, ะบะพัะตะนัะบะพะผ ะธ ะฒยะดััะณะธั ะฐะทะธะฐััะบะธั ัะทัะบะฐั, ะฐยัะฐะบยะถะตยโ ะดะปัยะฟัะตะดััะฐะฒะปะตะฝะธั ัะผะพะดะทะธ, ะธัะฟะพะปัะทััััั 3ยะธะปะธ 4ยะฑะฐะนัะฐ.

ะขัั ะผะฝะต ัะพัะตะปะพััยะฑั ะพะฑัะฐัะธัั ะฒะฐัะต ะฒะฝะธะผะฐะฝะธะต ะฝะฐยะฝะตัะบะพะปัะบะพ ะฒะฐะถะฝัั ะผะพะผะตะฝัะพะฒ.

ะะพโะฟะตัะฒััยโ ะบะพะดะธัะพะฒะบะฐ UTF-8, ะฝะฐยััะพะฒะฝะต ะฑะฐะนัะพะฒ, ัะพะฒะผะตััะธะผะฐ ัยASCII. ะะพะดะพะฒัะต ัะพัะบะธ 0..127, ัะพ ะตัััยโ ัะพ, ััะพยะธะทะฝะฐัะฐะปัะฝะพ ะฒัะพะดะธะปะพ ะฒยASCII, ะบะพะดะธัััััั ัยะฟะพะผะพััั ะพะดะฝะพะณะพ ะฑะฐะนัะฐ. ะ ััะพยโ ะฒยัะพัะฝะพััะธ ัะพัยะถะต ะฑะฐะนั, ััะพยะธ ะฒยASCII. ะะฐะฟัะธะผะตั, `U+0041`ย(`A`, ะปะฐัะธะฝัะบะฐั ะทะฐะณะปะฐะฒะฝะฐั ะฑัะบะฒะฐ A)ยโ ััะพ ะฟัะพััะพ ัะตััะฝะฐะดัะฐัะตัะธัะฝะพะต ัะธัะปะพ 41, ะฝะฐยััะฐะฝะตะฝะธะต ััะพะณะพ ะบะพะดะฐ ะฝัะถะตะฝ ะพะดะธะฝ ะฑะฐะนั.

ะัะฑะพะน ะพะฑััะฝัะน ASCIIโัะตะบััยโ ััะพ ะตัั ะธ ะบะพััะตะบัะฝัะน UTF-8ยัะตะบัั, ะฐยะปัะฑะพะน UTF-8-ัะตะบัั, ะฒยะบะพัะพัะพะผ ะธัะฟะพะปัะทััััั ัะพะปัะบะพ ะบะพะดะพะฒัะต ัะพัะบะธ 0..127, ะผะพะถะตัยะฑััั ะฝะฐะฟััะผัั ะฟัะพัะธัะฐะฝ ัะฐะบ, ะฑัะดัะพ ะพะฝ ะทะฐะบะพะดะธัะพะฒะฐะฝ ะฒยASCII.

ะะพโะฒัะพัััยโ UTF-8ยะฟะพะทะฒะพะปัะตั ัััะตะบัะธะฒะฝะพ ััะฐะฝะธัั ะฟัะพัััะต ัะตะบััั ะฝะฐยัะทัะบะฐั, ะธัะฟะพะปัะทัััะธั ะปะฐัะธะฝัะบะธะต ะฑัะบะฒั. ะญัะพยโ ะพะดะฝะพ ะธะทยะณะปะฐะฒะฝัั ะฟัะตะธะผััะตััะฒ UTF-8ยะฟะตัะตะด UTF-16. ะญัะพ ะผะพะถะตัยะฑััั ะฝะตยัะฐะบ ะดะปัยัะตะบััะพะฒ, ะฝะฐะฟะธัะฐะฝะฝัั ะฒยัะฐะทะฝัั ัะณะพะปะบะฐั ะผะธัะฐ, ะฝะพยะฒยััะพะผ ะตััั ัะผััะป ะฟัะธยัะฐะฑะพัะต ัะพ ัััะพะบะฐะผะธ, ะธัะฟะพะปัะทัััะธะผะธัั ะฒยัะตัะฝะธัะตัะบะธั ัะตะปัั, ะฒัะพะดะต HTMLโัะตะณะพะฒ ะธะปะธยJSONโะบะปััะตะน.

ะยัะตะปะพะผ, UTF-8, ะบะฐะบยะฟัะฐะฒะธะปะพยโ ััะพ ะพัะตะฝั ัะพัะพัะธะน ะฒัะฑะพั ะดะปัยะบะพะผะฟัััะตัะพะฒ, ะฝะฐยะบะพัะพััั ะธัะฟะพะปัะทััััั ัะทัะบะธ, ะพัะปะธัะฐััะธะตัั ะพัยะฐะฝะณะปะธะนัะบะพะณะพ. ะยะฝะฐยะบะพะผะฟัััะตัะฐั, ะณะดะต ะพัะฝะพะฒะฝะพะน ัะทัะบยโ ะฐะฝะณะปะธะนัะบะธะน, ััะพะน ะบะพะดะธัะพะฒะบะต ะฝะตั ัะฐะฒะฝัั.

ะโััะตััะธัยโ ะฒยUTF-8ยะธะผะตัััั ะฒัััะพะตะฝะฝัะต ะผะตัะฐะฝะธะทะผั ะพะฑะฝะฐััะถะตะฝะธั ะพัะธะฑะพะบ ะธ ะฑะพััะฑั ัะพ ัะฑะพัะผะธ. ะัะตัะธะบั ะฟะตัะฒะพะณะพ ะฑะฐะนัะฐ ะฒัะตะณะดะฐ ะพัะปะธัะฐะตััั ะพัยะฑะฐะนัะพะฒ 2โ4. ะัะธยัะฐะบะพะผ ะฟะพะดัะพะดะต ะฒัะตะณะดะฐ ะผะพะถะฝะพ ะพะฟัะตะดะตะปะธัั, ััะพยะธะผะตะฝะฝะพ ะฟะตัะตะด ะฝะฐะผะธยโ ะฟะพะปะฝะฐั ะธ ะบะพััะตะบัะฝะฐั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั UTF-8ยะฑะฐะนัะพะฒ, ะธะปะธยะบะพะด, ะฒยะบะพัะพัะพะผ ััะพโัะพ ะฝะตยัะฐะบ (ะฝะฐะฟัะธะผะตัยโ ะตัะปะธ ะฝะฐัะฐัั ัะฐะทะฑะพั ัะตะบััะฐ ัยัะตัะตะดะธะฝั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ). ะะพะฝัะฒ, ััะพยััะพโัะพ ะฝะตยัะฐะบ, ะผะพะถะฝะพ ะธัะฟัะฐะฒะธัััั, ะดะฒะธะณะฐััั ะบยะบะพะฝัั ะธะปะธยะบยะฝะฐัะฐะปั ะฝะตะบะพะตะณะพ ััะฐะณะผะตะฝัะฐ ะบะพะดะฐ ะดะพยัะตั ะฟะพั, ะฟะพะบะฐ ะฝะตยะฑัะดะตั ะฝะฐะนะดะตะฝะพ ะฝะฐัะฐะปะพ ะบะพััะตะบัะฝะพะน ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ.

ะะพั ะฝะตัะบะพะปัะบะพ ะฒะฐะถะฝัั ะฒัะฒะพะดะพะฒ ะธะท ะฒััะตัะบะฐะทะฐะฝะฝะพะณะพ:

* ะะ ะะะะฃะงะะขะกะฏ ะพะฟัะตะดะตะปะธัั ะดะปะธะฝั ัััะพะบะธ, ะฟะพะดััะธััะฒะฐั ะฑะฐะนัั.
* ะะ ะะะะฃะงะะขะกะฏ ะฟะตัะตะนัะธ ะฒ ัะปััะฐะนะฝัั ะฟะพะทะธัะธั ัััะพะบะธ ะธ ะฝะฐัะฐัั ััะธััะฒะฐะฝะธะต ะบะพััะตะบัะฝัั ะดะฐะฝะฝัั.
* ะะ ะะะะฃะงะะขะกะฏ ะธะทะฒะปะตัั ะธะท ัััะพะบะธ ะฟะพะดัััะพะบั, ะฒััะตะทะฐะฒ ะธะท ะฝะตั ะฟัะพะธะทะฒะพะปัะฝัั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะฑะฐะนัะพะฒ. ะขะฐะบ ะผะพะถะฝะพ ะพััะตะทะฐัั ะพั ัััะพะบะธ ัะฐััั ะบะพะดะฐ ะฝะตะบะพะตะณะพ ัะธะผะฒะพะปะฐ.

ะขะต, ะบัะพ, ะฒัั ะถะต, ะฝะฐัััะฐัั ััะธ ะฟัะฐะฒะธะปะฐ, ะฒ ะธัะพะณะต ััะฐะปะบะธะฒะฐัััั ั ะฒะพั ัะฐะบะพะน ัััะบะพะฒะธะฝะพะน: ๏ฟฝ.

### ะงัะพ ัะฐะบะพะต ๏ฟฝ?

`U+FFFD` โ ััะพ ัะฐะบ ะฝะฐะทัะฒะฐะตะผัะน ยซะทะฐะผะตะฝัััะธะน ัะธะผะฒะพะปยป, ะฟะพ ัััะธ โ ะพะดะฝะฐ ะธะท ะบะพะดะพะฒัั ัะพัะตะบ ะฒ ัะฐะฑะปะธัะต Unicode. ะัะธะปะพะถะตะฝะธั ะธ ะฑะธะฑะปะธะพัะตะบะธ ะผะพะณัั ะธัะฟะพะปัะทะพะฒะฐัั ะตะณะพ ะฒ ัะปััะฐัั, ะบะพะณะดะฐ ะพะฝะธ ะพะฑะฝะฐััะถะธะฒะฐัั ะพัะธะฑะบะธ ะฒ Unicode.

ะัะปะธ ัะฐะทัะตะทะฐัั ะบะพะดะพะฒัั ัะพัะบั ะฟะพะฟะพะปะฐะผ โ ั ะตั ะบััะบะพะผ ะพัะพะฑะพ ะฝะธัะตะณะพ ะฝะต ัะดะตะปะฐะตัั โ ะพััะฐะฝะตััั ัะพะปัะบะพ ะฟะพะบะฐะทะฐัั ัะธะผะฒะพะป ะพัะธะฑะบะธ. ะะผะตะฝะฝะพ ะฒ ัะฐะบะธั ัะธััะฐัะธัั ะธ ะธัะฟะพะปัะทัะตััั ะทะฝะฐะบ ๏ฟฝ.


```
var bytes = "ะะฝะฐะปะธัะธะบะฐ".getBytes("UTF-8");
var partial = Arrays.copyOfRange(bytes, 0, 11);
new String(partial, "UTF-8"); // => "ะะฝะฐะป๏ฟฝ"
```
### ะะฐะทะฒะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต UTF-32 ะฝะต ะพะฑะปะตะณัะธะปะพ ะฑั ะฒัะตะผ ะถะธะทะฝั?

ะะตั.

ะะพะดะธัะพะฒะบะฐ UTF-32 ัะพัะพัะฐ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ัะฐะทะปะธัะฝัั ะพะฟะตัะฐัะธะน ะฝะฐะด ะบะพะดะพะฒัะผะธ ัะพัะบะฐะผะธ. ะ ัะฐะผะพะผ ะดะตะปะต: ะตัะปะธ ะบะฐะถะดะฐั ะบะพะดะพะฒะฐั ัะพัะบะฐ ะฒัะตะณะดะฐ ะฟัะตะดััะฐะฒะปะตะฝะฐ 4 ะฑะฐะนัะฐะผะธ, ัะพะณะดะฐ `strlen(s) == sizeof(s) / 4, substring(0, 3) == bytes[0, 12]` ะธ ัะฐะบ ะดะฐะปะตะต.

ะัะพะฑะปะตะผะฐ ััั ะฒ ัะพะผ, ััะพ ะฟัะพะณัะฐะผะผะธััะฐะผ ะฝะต ะฝัะถะฝะพ ัะฐะฑะพัะฐัั ั ะบะพะดะพะฒัะผะธ ัะพัะบะฐะผะธ. ะะพะดะพะฒะฐั ัะพัะบะฐ โ ััะพ ะฝะต ะตะดะธะฝะธัะฐ ะพัะผััะปะตะฝะฝะพะณะพ ัะตะบััะฐ; ะพะดะฝะฐ ะบะพะดะพะฒะฐั ัะพัะบะฐ ะฝะต ะฒัะตะณะดะฐ ัะพะพัะฒะตัััะฒัะตั ะพะดะฝะพะผั ัะธะผะฒะพะปั. ะัะพะณัะฐะผะผะธััะพะฒ, ะฝะฐะฟัะธะผะตั, ะฟัะธ ะฟะตัะตะฑะพัะต ัะพะดะตัะถะธะผะพะณะพ ัััะพะบ, ะธะฝัะตัะตัััั ัะฐะบ ะฝะฐะทัะฒะฐะตะผัะต ยซัะฐััะธัะตะฝะฝัะต ะณัะฐัะตะผะฝัะต ะบะปะฐััะตััยป, ะบะพัะพััะต ะดะปั ะบัะฐัะบะพััะธ ะฝะฐะทัะฒะฐัั ยซะณัะฐัะตะผะฐะผะธยป.

ะัะฐัะตะผะฐ โ ััะพ ะผะธะฝะธะผะฐะปัะฝะพ ัะฐะทะปะธัะธะผะฐั ะตะดะธะฝะธัะฐ ะฟะธััะผะฐ ะฒ ะบะพะฝัะตะบััะต ะบะพะฝะบัะตัะฝะพะน ัะธััะตะผั ะฟะธััะผะตะฝะฝะพััะธ. `รถ` โ ััะพ ะพะดะฝะฐ ะณัะฐัะตะผะฐ. `eฬ` โ ัะพะถะต ะพะดะฝะฐ. ะ `๊ฐ` โ ัะพะถะต. ะะพะปััะฐะตััั, ััะพ ะณัะฐัะตะผะฐ โ ััะพ ัะพ, ััะพ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒะพัะฟัะธะฝะธะผะฐะตั, ะบะฐะบ ะพะดะธะฝ ัะธะผะฒะพะป.

ะัะพะฑะปะตะผะฐ ััั ะฒ ัะพะผ, ััะพ ะฒ Unicode ะฝะตะบะพัะพััะต ะณัะฐัะตะผั ะบะพะดะธัััััั ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะฝะตัะบะพะปัะบะธั ะบะพะดะพะฒัั ัะพัะตะบ.

![](https://habrastorage.org/getpro/habr/upload_files/a07/0e2/846/a070e28462125fa617ed8c058bd910fa.png)ะะฐะฟัะธะผะตั, `eฬ` (ะพะดะฝะฐ ะณัะฐัะตะผะฐ) ะบะพะดะธััะตััั ะฒ Unicode ะบะฐะบ `e` (`U+0065` ะปะฐัะธะฝัะบะฐั ะผะฐะปะตะฝัะบะฐั ะฑัะบะฒะฐ E) + `ยด` (`U+0301` ะบะพะผะฑะธะฝะธัะพะฒะฐะฝะฝัะน ะฐะบัั (ะปัะณะบะพะต ัะดะฐัะตะฝะธะต)). ะะฒะต ะบะพะดะพะฒัะต ัะพัะบะธ!

ะะพะดะพะฒัั ัะพัะตะบ ะผะพะถะตั ะฑััั ะธ ะฑะพะปััะต, ัะตะผ ะดะฒะต:

* โน๏ธ โ ััะพ `U+2639 + U+FE0F`.
* ๐จโ๐ญ โ ััะพ `U+1F468 + U+200D + U+1F3ED`.
* ๐ต๐ปโโ๏ธ โ ััะพ `U+1F6B5 + U+1F3FB + U+200D + U+2640 + U+FE0F`.
* ![](https://habrastorage.org/getpro/habr/upload_files/71a/168/d6b/71a168d6b7e8b58b010e1fbba455d705.png) โ ััะพ `U+0079 + U+0316 + U+0320 + U+034D + U+0318 + U+0347 + U+0357 + U+030F + U+033D + U+030E + U+035E`.

ะะฐัะบะพะปัะบะพ ะผะฝะต ะธะทะฒะตััะฝะพ โ ะฟัะตะดะตะปะฐ ะฝะตั. 

ะะต ะทะฐะฑัะฒะฐะนัะต โ ะผั ััั ะณะพะฒะพัะธะผ ะพ ะบะพะดะพะฒัั ัะพัะบะฐั. ะะฐะถะต ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ ัะฐะผะพะน ยซัะธัะพะบะพะนยป ะบะพะดะธัะพะฒะบะธ, UTF-32, ะฝะฐ ะฟัะตะดััะฐะฒะปะตะฝะธะต ๐จโ๐ญ ะฟะพััะตะฑัะตััั ััะธ 4-ะฑะฐะนัะฝัั ะฑะปะพะบะฐ. ะ ััะพ ะฝะต ะพัะผะตะฝัะตั ัะพะณะพ ัะฐะบัะฐ, ััะพ ััะพั ะทะฝะฐัะพะบ ะฝะฐะดะพ ัะฐััะผะฐััะธะฒะฐัั ะบะฐะบ ะพะดะธะฝ ัะธะผะฒะพะป.

ะัะปะธ ะฟัะธะฑะตะณะฝััั ะบ ะฐะฝะฐะปะพะณะธะธ, ัะพ ัะฐะผ Unicode (ะฑะตะท ััััะฐ ะฝะฐะปะธัะธั ะบะฐะบะธั-ะปะธะฑะพ ะบะพะดะธัะพะฒะพะบ) ะผะพะถะฝะพ ะฒะพัะฟัะธะฝะธะผะฐัั ะบะฐะบ ััะฐะฝะดะฐัั, ะฒ ะบะพัะพัะพะผ ะธัะฟะพะปัะทััััั ะบะพะดั ะฟะตัะตะผะตะฝะฝะพะน ะดะปะธะฝั.

ะะฐััะธัะตะฝะฝัะน ะณัะฐัะตะผะฝัะน ะบะปะฐััะตั โ ััะพ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั, ัะพััะพััะฐั ะธะท ะพะดะฝะพะน ะธะปะธ ะฝะตัะบะพะปัะบะธั ะบะพะดะพะฒัั ัะพัะตะบ Unicode, ะบะพัะพััั ะฝัะถะฝะพ ัะฐััะผะฐััะธะฒะฐัั ะบะฐะบ ัะฐะผะพััะพััะตะปัะฝัะน, ะฝะตะดะตะปะธะผัะน ัะธะผะฒะพะป.
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ะยัะตะทัะปััะฐัะต ะผั ััะฐะปะบะธะฒะฐะตะผัั ัะพ ะฒัะตะผะธ ัะตะผะธ ะฟัะพะฑะปะตะผะฐะผะธ, ะบะพัะพััะต ัะฐัะฐะบัะตัะฝั ะดะปัยัะฐะฑะพัั ัยะบะพะดะธัะพะฒะบะฐะผะธ ะฟะตัะตะผะตะฝะฝะพะน ะดะปะธะฝั, ะฝะพยัะตะฟะตัั ะพะฝะธ ะฟัะพัะฒะปััััั ะฝะฐยััะพะฒะฝะต ะบะพะดะพะฒัั ัะพัะตะบ. ะะตะปัะทั ัะฐะฑะพัะฐััยะปะธัั ัยัะฐัััะผะธ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะตะน. ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ะฒัะตะณะดะฐ ะฝะฐะดะพ ะฒัะดะตะปััั, ะบะพะฟะธัะพะฒะฐัั, ัะตะดะฐะบัะธัะพะฒะฐัั ะบะฐะบยะตะดะธะฝะพะต ัะตะปะพะต.

ะะตัะพะฑะปัะดะตะฝะธะต ะฟัะฐะฒะธะป ะฟะพยัะฐะฑะพัะต ัยะณัะฐัะตะผะฝัะผะธ ะบะปะฐััะตัะฐะผะธ ะฒะตะดัั ะบยะฑะฐะณะฐะผ, ะฟะพัะพะถะธะผ ะฝะฐยััะพั:

![](https://habrastorage.org/getpro/habr/upload_files/872/0e5/014/8720e501403b817d3d2ca3c00d748cb4.png "https://tonsky.me/blog/unicode/error1.png?t=1700408675")ะะปะธ ะฝะฐ ััะพั:

*ะัะพััะพ ะดะปั ััะฝะพััะธ: ััะพ โ ะะะะะะะะะฌะะะ ะฟะพะฒะตะดะตะฝะธะต*

ะัะฟะพะปัะทะพะฒะฐะฝะธะต UTF-32 ะฒะผะตััะพ UTF-8 ะฝะธะบะฐะบ ะฝะต ะพะฑะปะตะณัะฐะตั ะดะพะปั ะฟัะพะณัะฐะผะผะธััะฐ ะฒ ะฟะปะฐะฝะต ะพะฑัะฐะฑะพัะบะธ ัะฐััะธัะตะฝะฝัั ะณัะฐัะตะผะฝัั ะบะปะฐััะตัะพะฒ. ะ ะธะผะตะฝะฝะพ ัะฐััะธัะตะฝะฝัะต ะณัะฐัะตะผะฝัะต ะบะปะฐััะตัั โ ััะพ ัะพ, ััะพ ะดะพะปะถะฝะพ ะทะฐะฑะพัะธัั ะฟัะพะณัะฐะผะผะธััะฐ.

ะะพะดะพะฒัะต ัะพัะบะธ โ ๐ฅฑ. ะัะฐัะตะผั โ ๐.
-------------------------------



---

### ะกะปะพะถะฝะพััั ัะฐะฑะพัั ั Unicode ัะฒัะทะฐะฝะฐ ัะพะปัะบะพ ั ัะผะพะดะทะธ?

ะะฐยัะฐะผะพะผ ะดะตะปะตยโ ะฝะตั. ะะฐััะธัะตะฝะฝัะต ะณัะฐัะตะผะฝัะต ะบะปะฐััะตัั ะฐะบััะฐะปัะฝั ะธ ะดะปัยะฟัะตะดััะฐะฒะปะตะฝะธั ัะธะผะฒะพะปะพะฒ, ะฟัะธะผะตะฝัััะธััั ะฒยะถะธะฒัั, ะฐะบัะธะฒะฝะพ ะธัะฟะพะปัะทัะตะผัั ัะทัะบะฐั. ะะฐะฟัะธะผะตั:

* รถ (ะฝะตะผะตัะบะธะน ัะทัะบ) โ ััะพ ะพะดะธะฝ ัะธะผะฒะพะป, ะฝะพ ะฝะตัะบะพะปัะบะพ ะบะพะดะพะฒัั ัะพัะตะบ (`U+006F U+0308`).
* ฤฬ (ะปะธัะพะฒัะบะธะน ัะทัะบ) โ ััะพ `U+00E1 U+0328`.
* ๊ฐ (ะบะพัะตะนัะบะธะน ัะทัะบ) โ ััะพ `U+1100 U+1161 U+11A8`.

ะขะฐะบ ััะพ ัะปะพะถะฝะพััั ัะฐะฑะพัั ั Unicode ัะฒัะทะฐะฝะฐ ะฝะต ัะพะปัะบะพ ั ัะผะพะดะทะธ.

### ะะฐะบะพะฒะฐ ะดะปะธะฝะฐ ๐คฆโโ๏ธ?

ะะฐยััะพั ะฒะพะฟัะพั ะผะตะฝั ะฒะดะพัะฝะพะฒะธะปะฐ [ััะฐ](https://hsivonen.fi/string-length/) ะทะฐะผะตัะฐัะตะปัะฝะฐั ััะฐััั. ะะฐะทะฝัะต ัะทัะบะธ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั, ะฝะธัะบะพะปัะบะพ ะฝะตยัะผััะฐััั, ะดะฐะดัั ะฝะฐยะฝะตะณะพ ัะฐะทะฝัะต ะพัะฒะตัั.

Python 3:


```
>>> len("๐คฆโโ๏ธ")
5
```
JavaScript / Java / C#:


```
>> "๐คฆโโ๏ธ".length 
7
```
Rust:


```
println!("{}", "๐คฆโโ๏ธ".len());
// => 17
```
ะะฐะบ ะผะพะถะฝะพ ะดะพะณะฐะดะฐัััั, ัะฐะทะฝัะต ัะทัะบะธ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะธัะฟะพะปัะทััั ัะฐะทะปะธัะฝัะต ะฒะฝัััะตะฝะฝะธะต ะฟัะตะดััะฐะฒะปะตะฝะธั ัััะพะบ (UTF-32, UTF-16, UTF-8) ะธ ะฒัะฒะพะดัั ัะฒะตะดะตะฝะธั ะพ ะดะปะธะฝะต ัััะพะบะธ ะฒ ัะตั ะตะดะธะฝะธัะฐั, ะฒ ะบะพัะพััั ะพะฝะธ ััะฐะฝัั ัะธะผะฒะพะปั (ัะตะปัะต ัะธัะปะฐ, ะบะพัะพัะบะธะต ัะตะปัะต ัะธัะปะฐ, ะฑะฐะนัั).

ะะพ! ะัะปะธ ัะฟัะพัะธัั ะปัะฑะพะณะพ ะพะฑััะฝะพะณะพ ัะตะปะพะฒะตะบะฐ, ัะพะณะพ, ะบะพัะพััะน ะฝะตยะพััะณะพััะฝ ะทะฝะฐะฝะธัะผะธ ะพยะฒะฝัััะตะฝะฝะตะผ ััััะพะนััะฒะต ะบะพะผะฟัััะตัะฝัั ัะธััะตะผ, ะพะฝ ะดะฐัั ะฟััะผะพะน ะพัะฒะตั: 1. ะะปะธะฝะฐ ัััะพะบะธ ๐คฆโโ๏ธยโ 1.

ะะผะตะฝะฝะพ ะฒ ััะพะผ โ ะฒัั ัััั ัะฐััะธัะตะฝะฝัั ะณัะฐัะตะผะฝัั ะบะปะฐััะตัะพะฒ: ััะพ โ ัะพ, ััะพ ะปัะดะธ ะฒะพัะฟัะธะฝะธะผะฐัั ะฒ ะฒะธะดะต ะพะดะฝะพะณะพ ัะธะผะฒะพะปะฐ. ะ ะฒ ะดะฐะฝะฝะพะผ ัะปััะฐะต ๐คฆโโ๏ธ โ ััะพ, ะฑะตะท ัะพะผะฝะตะฝะธั, ะพะดะธะฝ ัะธะผะฒะพะป.

ะขะพั ัะฐะบั, ััะพ ัะธะผะฒะพะป ๐คฆโโ๏ธ ัะพััะพะธั ะธะท 5 ะบะพะดะพะฒัั ัะพัะตะบ (`U+1F926 U+1F3FB U+200D U+2642 U+FE0F`) โ ะปะธัั ะดะตัะฐะปั ัะตะฐะปะธะทะฐัะธะธ. ะญัั ะบะพะฝััััะบัะธั ะฝะต ะฝัะถะฝะพ ัะฐะทะฑะธะฒะฐัั ะฝะฐ ัะฐััะธ, ะตั ะฝะต ะฝัะถะฝะพ ััะธัะฐัั ัะพััะพััะตะน ะธะท ะฝะตัะบะพะปัะบะธั ัะธะผะฒะพะปะพะฒ. ะขะตะบััะพะฒัะน ะบัััะพั ะฝะต ะดะพะปะถะตะฝ ะฟะพะทะธัะธะพะฝะธัะพะฒะฐัััั ะฒะฝัััะธ ะฝะตั, ั ะฟะพะปัะทะพะฒะฐัะตะปั ะฝะต ะพะปะถะฝะพ ะฑััั ะฒะพะทะผะพะถะฝะพััะธ ะฒัะดะตะปะธัั ัะฐััั ััะพะน ะบะพะฝััััะบัะธะธ ะธ ัะฐะบ ะดะฐะปะตะตโฆ

ะงัะพ ะฑั ะฝะธ ะดะฒะธะณะฐะปะพ ัะฐะทัะฐะฑะพััะธะบะพะผ, ะบะฐะบะธะต ะฑั ัะตะปะธ ะฟะตัะตะด ะฝะธะผ ะฝะธ ััะพัะปะธ, ััะพั ัะธะผะฒะพะป ะดะพะปะถะตะฝ ะฟัะตะดััะฐะฒะปััั ัะพะฑะพะน ะฝะตะดะตะปะธะผัั ะตะดะธะฝะธัั ัะตะบััะฐ. ะ ะฝะตะดัะฐั ะฟัะพะณัะฐะผะผั ะพะฝ ะผะพะถะตั ะฑััั ะทะฐะบะพะดะธัะพะฒะฐะฝ ะบะฐะบ ัะณะพะดะฝะพ, ะฝะพ ะดะปั API, ั ะบะพัะพััะผ ะฒะทะฐะธะผะพะดะตะนััะฒััั ะฟะพะปัะทะพะฒะฐัะตะปะธ, ะพะฝ ะดะพะปะถะตะฝ ะฑััั ะฟัะตะดััะฐะฒะปะตะฝ ะฒ ะฒะธะดะต ัะตะปัะฝะพะน, ะฝะตะดะตะปะธะผะพะน ัััะฝะพััะธ.

ะะธัั ะดะฒะฐ ัะพะฒัะตะผะตะฝะฝัั ัะทัะบะฐ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะฟัะฐะฒะธะปัะฝะพ ะฝะฐัะพะดัั ะดะปะธะฝั ััะพะณะพ ัะธะผะฒะพะปะฐ.

ะะตัะฒัะน โ ััะพ Swift:


```
print("๐คฆโโ๏ธ".count)
// => 1
```
ะัะพัะพะน โ Elixir:


```
String.length("๐คฆโโ๏ธ")
// => 1
```
ะ ัะตะปะพะผ, ััั ะธะผะตัััั ะดะฒะฐ ัะปะพั ะฐะฑัััะฐะบัะธะธ:

1. ะะฝัััะตะฝะฝะธะน, ะพัะธะตะฝัะธัะพะฒะฐะฝะฝัะน ะฝะฐ ะบะพะผะฟัััะตัั. ะะฝ ัะฐัััะธัะฐะฝ ะฝะฐ ัะฐะบะธะต ะทะฐะดะฐัะธ, ะบะฐะบ ะบะพะฟะธัะพะฒะฐะฝะธะต ัััะพะบ, ะฟะตัะตััะปะบะฐ ะธั ะฟะพ ัะตัะธ, ัะพััะฐะฝะตะฝะธะต ะฝะฐ ะดะธัะบ ะธ ัะฐะบ ะดะฐะปะตะต. ะะผะตะฝะฝะพ ััั ะธ ะฝัะถะฝั ะบะพะดะธัะพะฒะบะธ ะฝะฐะฟะพะดะพะฑะธะต UTF-8. ะะฝัััะธ Swift ะธัะฟะพะปัะทัะตััั UTF-8, ะฝะพ ััะพ ะผะพะถะตั ะฑััั ะธ UTF-16, ะธ UTF-32. ะะฐะถะฝะพ ัะพ, ััะพะฑั ะฝะฐ ััะพะผ ััะพะฒะฝะต ะทะฝะฐะฝะธั ะพ ะบะพะดะธัะพะฒะบะฐั ะธัะฟะพะปัะทะพะฒะฐะปะธัั ะฑั ะปะธัั ะดะปั ะบะพะฟะธัะพะฒะฐะฝะธั ัััะพะบ ะบะฐะบ ะตะดะธะฝะพะณะพ ัะตะปะพะณะพ, ะฐ ะฝะต ะดะปั ะฐะฝะฐะปะธะทะฐ ะธั ัะพะดะตัะถะธะผะพะณะพ.
2. ะะฝะตัะฝะธะน, ะฝะฐัะตะปะตะฝะฝัะน ะฝะฐยัะตะปะพะฒะตะบะฐ. ะกัะตะดะธ ะทะฐะดะฐั, ัะตัะฐะตะผัั ัยะตะณะพ ะฟะพะผะพััั, ะผะพะถะฝะพ ะฒัะดะตะปะธัั ัะปะตะดัััะธะต: ะฟะพะดัััั ัะธะผะฒะพะปะพะฒ ะฒยะฟะพะปัะทะพะฒะฐัะตะปััะบะพะผ ะธะฝัะตััะตะนัะต, ะธะทะฒะปะตัะตะฝะธะต ะฟะตัะฒัั 10ยัะธะผะฒะพะปะพะฒ ัะตะบััะฐ ะดะปัยัะพะทะดะฐะฝะธั ะฟัะตะฒัั, ะฟะพะธัะบ ะฒยัะตะบััะต, ัะตะฐะปะธะทะฐัะธั ะผะตัะพะดะพะฒ ะฒัะพะดะต `.count` ะธะปะธ `.substring`. Swift ะดะฐัั ะฟัะพะณัะฐะผะผะธััั ะฟัะตะดััะฐะฒะปะตะฝะธะต, ะบะพัะพัะพะต ัะพะทะดะฐัั ะพัััะตะฝะธะต ัะพะณะพ, ััะพยัััะพะบะฐยโ ััะพ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะณัะฐัะตะผะฝัั ะบะปะฐััะตัะพะฒ. ะ ััะพ ะฟัะตะดััะฐะฒะปะตะฝะธะต ะฒะตะดัั ัะตะฑั ัะฐะบ, ะบะฐะบยะผะพะถะตั ะพะถะธะดะฐัั ัะตะปะพะฒะตะบยโ ะฐยะธะผะตะฝะฝะพ, ะฒัะดะฐัั 1ยะฟัะธยะฒัะฟะพะปะฝะตะฝะธะธ ะบะพะผะฐะฝะดั "๐คฆโโ๏ธ"`.count`.

ะะฐะดะตััั, ัะฐะบะพะน ะฟะพะดัะพะด ะบ ัะฐะฑะพัะต ัะพ ัััะพะบะฐะผะธ ะฒ ะฑะปะธะถะฐะนัะตะต ะฒัะตะผั ะฑัะดะตั ัะตะฐะปะธะทะพะฒะฐะฝ ะธ ะฒ ะดััะณะธั ัะทัะบะฐั ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั.

ะขะตะฟะตัั ั ะผะตะฝั ะฒะพะฟัะพั ะบ ัะธัะฐัะตะปัะผ. ะะฐะบ ะฒั ะดัะผะฐะตัะต โ ััะพ ะดะพะปะถะฝะฐ ะฒัะดะฐัั ัะฐะบะฐั ะบะพะผะฐะฝะดะฐ?

![](https://habrastorage.org/getpro/habr/upload_files/677/60f/e74/67760fe74d97152222cbbbbd25d856b7.png)### ะะฐะบ ะถะต ัะพะณะดะฐ ะพะฑะฝะฐััะถะธะฒะฐัั ะณัะฐัะตะผะฝัะต ะบะปะฐััะตัั?

ะยัะพะถะฐะปะตะฝะธั, ัะพะทะดะฐัะตะปะธ ะฑะพะปััะธะฝััะฒะฐ ัะทัะบะพะฒ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั ะพัะพะฑะพ ัะตะฑั ะฝะตยััััะถะดะฐัั ะธ ะฟะพะทะฒะพะปััั ะฟัะพะณัะฐะผะผะธััะฐะผ ะฟะตัะตะฑะธัะฐัั ัััะพะบะธ ะฑะปะพะบะฐะผะธ ะธะท 1โ2โ4ยะฑะฐะนัะพะฒ, ะฝะตยะฟัะธะฝะธะผะฐั ะฒะพยะฒะฝะธะผะฐะฝะธะต ะณัะฐัะตะผะฝัะต ะบะปะฐััะตัั.

ะยััะพะผ ะฝะตั ัะผััะปะฐ. ะฃ ยซัะธะผะฒะพะปะพะฒยป, ะฟะพะปััะตะฝะฝัั ะฟัะธยัะฐะบะพะน ะพะฑัะฐะฑะพัะบะต, ะผะพะถะตั ะฟัะพััะพ ะฝะตยะฑััั ะฝะธะบะฐะบะธั ะทะฝะฐัะตะฝะธะน. ะะพยัะฐะบ ะบะฐะบยััะพยโ ะฟะพะฒะตะดะตะฝะธะต, ัะตะฐะปะธะทัะตะผะพะต ะฟะพยัะผะพะปัะฐะฝะธั, ะฟัะพะณัะฐะผะผะธััั ะพัะพะฑะพ ะพะฑยััะพะผ ะฝะตยะทะฐะดัะผัะฒะฐัััั, ััะพ, ะฒยัะตะทัะปััะฐัะต, ะฟัะธะฒะพะดะธั ะบยะฟะพัะฒะปะตะฝะธั ััั ะธ ัะฐะผ ะฟะพะฒัะตะถะดัะฝะฝัั ัััะพะบ:

![](https://habrastorage.org/getpro/habr/upload_files/7ed/253/3a1/7ed2533a19549beb37fdc4e47c6a1a45.png)ะะธะบัะพ ะธ ะฝะธะบะพะณะดะฐ ะฝะต ะณะพะฒะพัะธั ะพ ัะพะผ, ััะพ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะบะพะผะฐะฝะดั `strlen()` ะฑัะดะตั ะธัะฟะพะปัะทะพะฒะฐัั ะฑะธะฑะปะธะพัะตะบั.

ะ ะฒะตะดั ะฟะพัััะฟะฐัั ััะพะธั ะธะผะตะฝะฝะพ ัะฐะบ! ะญัะธ ะฟัะพะฑะปะตะผั ัะตัะฐะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะพะดัะพะดััะตะน ะฑะธะฑะปะธะพัะตะบะธ ะดะปั ัะฐะฑะพัั ั Unicode. ะะพะฒัะพัััั: ะดะปั ะฒัะฟะพะปะฝะตะฝะธั ะฟัะพััะตะนัะธั ะบะพะผะฐะฝะด ะฒัะพะดะต `strlen`, `indexOf` ะธะปะธ `substring` ะฝัะถะฝะฐ ะฑะธะฑะปะธะพัะตะบะฐ!

ะะฐะฟัะธะผะตั:

1. C/C++/Java: ะธัะฟะพะปัะทัะนัะต [ICU](https://github.com/unicode-org/icu). ะญัะพ โ ะฑะธะฑะปะธะพัะตะบะฐ, ัะพะทะดะฐะฝะฝะฐั ัะฐะทัะฐะฑะพััะธะบะฐะผะธ Unicode. ะ ะฝะตะน ัะตะฐะปะธะทะพะฒะฐะฝั ะฒัะต ะฟัะฐะฒะธะปะฐ ัะตะณะผะตะฝัะฐัะธะธ ัะตะบััะฐ.
2. C#: ะธัะฟะพะปัะทัะนัะต `TextElementEnumerator`. ะญัะพั ะบะปะฐัั, ะฝะฐัะบะพะปัะบะพ ั ะทะฝะฐั, ะฟะพะดะดะตัะถะธะฒะฐะตััั ะฒ ะฐะบััะฐะปัะฝะพะผ ัะพััะพัะฝะธะธ, ะพััะฐะถะฐััะตะผ ะฟะพัะปะตะดะฝะธะต ะธะทะผะตะฝะตะฝะธั ะฒ Unicode.
3. Swift: ะธัะฟะพะปัะทัะนัะต ััะฐะฝะดะฐััะฝัั ะฑะธะฑะปะธะพัะตะบั. ะ Swift ะฒัั ัะดะตะปะฐะฝะพ ะบะฐะบ ะฝะฐะดะพ ะฝะฐ ััะพะฒะฝะต ัะทัะบะฐ.
4. ะะฑะฝะพะฒะปะตะฝะธะต: Erlang/Elixir, ะฟะพัะพะถะต, ัะพะถะต ะฒะตะดัั ัะตะฑั ะฟัะฐะฒะธะปัะฝะพ.
5. ะะปั ะดััะณะธั ัะทัะบะพะฒ, ะฒะตัะพััะฝะพ, ะผะพะถะฝะพ ะฝะฐะนัะธ ะฟะพะดัะพะดัััั ะฑะธะฑะปะธะพัะตะบั ะธะปะธ ะฟัะธะฒัะทะบั ะดะปั ICU.
6. ะกะพะทะดะฐะนัะต ัะพะฑััะฒะตะฝะฝัั ะฑะธะฑะปะธะพัะตะบั. ะะฐะทัะฐะฑะพััะธะบะธ Unicode [ะฟัะฑะปะธะบััั](https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries) ะฟัะฐะฒะธะปะฐ ะธ ัะฐะฑะปะธัั ะฒ ะผะฐัะธะฝะพัะธัะฐะตะผะพะผ ัะพัะผะฐัะต. ะัะต ะฒััะตะฟะตัะตัะธัะปะตะฝะฝัะต ะฑะธะฑะปะธะพัะตะบะธ ะพัะฝะพะฒะฐะฝั ะฝะฐ ััะธั ะผะฐัะตัะธะฐะปะฐั.

ะะพ, ััะพ ะฑั ะฒั ะฝะธ ะฒัะฑัะฐะปะธ, ะฟัะพะฒะตัััะต, ััะพะฑั ััะพ ะฑัะปะพ ะพัะฝะพะฒะฐะฝะพ ะฝะฐ ะดะพััะฐัะพัะฝะพ ัะฒะตะถะตะน ะฒะตััะธะธ Unicode (15.1 ะฒ ะผะพะผะตะฝั ะฝะฐะฟะธัะฐะฝะธั ััะพะน ััะฐััะธ), ัะฐะบ ะบะฐะบ ะพะฟัะตะดะตะปะตะฝะธั ะณัะฐัะตะผ ะผะตะฝััััั ะพั ะฒะตััะธะธ ะบ ะฒะตััะธะธ. ะััะพะดั ะธะท ััะพะณะพ ัะพะพะฑัะฐะถะตะฝะธั, ะฝะฐะฟัะธะผะตั, ะฝะต ััะพะธั ะฟะพะปัะทะพะฒะฐัััั `java.text.BreakIterator`, ัะฐะบ ะบะฐะบ ััะพั ะบะปะฐัั ะพัะฝะพะฒะฐะฝ ะฝะฐ ะพัะตะฝั ััะฐัะพะน ะฒะตััะธะธ Unicode ะธ ะฝะต ะพะฑะฝะพะฒะปัะตััั.

ะะพะปัะทัะนัะตัั ะฑะธะฑะปะธะพัะตะบะพะน.
------------------------



---

ะะพ ะผะพะตะผั ะผะฝะตะฝะธั, ะฒัั ััะฐ ัะธััะฐัะธั โ ะฟะพะทะพั ะดะปั ะะข-ะธะฝะดััััะธะธ. ะะพะดะดะตัะถะบะฐ Unicode ะดะพะปะถะฝะฐ, ะฑะตะท ะฒััะบะธั ััะปะพะฒะธะน, ะฟัะธัััััะฒะพะฒะฐัั ะฒ ััะฐะฝะดะฐััะฝะพะน ะฑะธะฑะปะธะพัะตะบะต ะบะฐะถะดะพะณะพ ัะทัะบะฐ. ะะตะดั Unicode โ ััะพ ยซะปะธะฝะณะฒะฐ ััะฐะฝะบะฐยป ะธะฝัะตัะฝะตัะฐ! ะ ััะพั ััะฐะฝะดะฐัั ะดะฐะถะต ะฝะต ะพัะฝะพัะธััั ะบ ะฝะพะฒัะผ: ะผั ะถะธะฒัะผ ั ะฝะธะผ ัะถะต 20 ะปะตั!

### ะะพะณะพะดะธัะต, ะฟัะฐะฒะธะปะฐ ะผะตะฝััััั?

ะะฐ! ะะฐะทะฒะต ััะพ ะฝะตยะฟัะตะบัะฐัะฝะพ?

(ะะฝะฐัยโ ัะพะฒัะตะผ ะฝะตยะฟัะตะบัะฐัะฝะพ).

ะะฐัะธะฝะฐั ะฟัะธะผะตัะฝะพ ั 2014ยะณะพะดะฐ ะพัะณะฐะฝะธะทะฐัะธั, ะพัะฒะตัััะฒะตะฝะฝะฐั ะทะฐยUnicode, ะฒัะฟััะบะฐะตั ััะฐััะธะต ะฒะตััะธะธ ััะฐะฝะดะฐััะฐ ะบะฐะถะดัะน ะณะพะด. ะะผะตะฝะฝะพ ะพัััะดะฐ ะผั ะธ ะดะพะฑัะฒะฐะตะผ ะฝะพะฒัะต ัะผะพะดะทะธยโ ะพะฑะฝะพะฒะปะตะฝะธั Android ะธ iOS, ะฒััะพะดััะธะต ะพัะตะฝัั, ะพะฑััะฝะพ ะฒะบะปััะฐัั ะฒยัะตะฑั, ะบัะพะผะต ะฟัะพัะตะณะพ, ะฟะพะดะดะตัะถะบั ัะฐะผะพะณะพ ะฝะพะฒะพะณะพ ััะฐะฝะดะฐััะฐ Unicode.

![](https://habrastorage.org/getpro/habr/upload_files/15f/cdf/272/15fcdf27213a8e199a2bed2cfda0815a.png)ะะฐั ัยะฒะฐะผะธ ะฒัั ััะพ ะฟะตัะฐะปะธั ะธะทโะทะฐ ัะพะณะพ, ััะพยะบะฐะถะดัะน ะณะพะด ะผะตะฝััััั ะธ ะฟัะฐะฒะธะปะฐ ะพะฟัะตะดะตะปะตะฝะธั ะณัะฐัะตะผะฝัั ะบะปะฐััะตัะพะฒ. ะขะพ, ััะพยัะตะณะพะดะฝั ััะธัะฐะตััั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพัััั ะธะทยะดะฒัั ะธะปะธยัััั ะพัะดะตะปัะฝัั ะบะพะดะพะฒัั ัะพัะตะบ, ะทะฐะฒััะฐ ะผะพะถะตั ััะฐัั ะณัะฐัะตะผะฝัะผ ะบะปะฐััะตัะพะผ. ะ ัะทะฝะฐัั ะทะฐัะฐะฝะตะต ะพะฑยััะพะผ ะฝะตะปัะทั! ะะพะดะณะพัะพะฒะธัััั ะบยััะพะผั ัะพะถะต ะฝะตยะฟะพะปััะธััั!

ะะพยัะธััะฐัะธั ะตัั ััะถะต, ัะฐะบ ะบะฐะบยัะฐะทะฝัะต ะฒะตััะธะธ ะฒะฐัะตะณะพ ัะพะฑััะฒะตะฝะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั ะผะพะณััยะฑััั ะพัะฝะพะฒะฐะฝั ะฝะฐยัะฐะทะฝัั ะฒะตััะธัั ััะฐะฝะดะฐััะฐ Unicode ะธ ะฒัะดะฐะฒะฐัั ัะฐะทะฝัะต ัะฒะตะดะตะฝะธั ะพยะดะปะธะฝะฐั ะพะดะฝะธั ะธ ัะตัยะถะต ัััะพะบ!

ะะพยััะพยโ ัะฐ ัะตะฐะปัะฝะพััั, ะฒยะบะพัะพัะพะน ะผั ะถะธะฒัะผ. ะ ััั ัยะฝะฐั, ะฝะฐยัะฐะผะพะผ ะดะตะปะต, ะฝะตั ะฒัะฑะพัะฐ. ะขะพั, ะบัะพ ัะพัะตั, ััะพะฑั ะตะณะพ ะฟัะพะตะบั ะพััะฐะฒะฐะปััยะฑั ะฐะบััะฐะปัะฝัะผ ะธ ะพะฑะตัะฟะตัะธะฒะฐะปยะฑั ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะดะพััะพะนะฝัะต ะฒะฟะตัะฐัะปะตะฝะธั ะพัยัะฐะฑะพัั ัยะฝะธะผ, ะฟัะพััะพ ะฝะตยะผะพะถะตั ะธะณะฝะพัะธัะพะฒะฐัั ััะฐะฝะดะฐัั Unicode ะธะปะธยะตะณะพ ะพะฑะฝะพะฒะปะตะฝะธั. ะะพััะพะผัยโ ะฟัะธัััะณะธะฒะฐะตะผ ัะตะผะฝะธ, ะฒัะตะทะถะฐะตะผ ะฝะฐะฒัััะตัั ะฝะพะฒัะตััะฒะฐะผ ัยะพัะบััััะผ ะทะฐะฑัะฐะปะพะผ ะธ ะพะฑะฝะพะฒะปัะตะผัั.

ะะถะตะณะพะดะฝะพ ะพะฑะฝะพะฒะปัะนัะตัั.
----------------------



---

### ะะพัะตะผั "Aฬ" !== "ร" !== "โซ"?

![](https://habrastorage.org/getpro/habr/upload_files/49d/618/ad6/49d618ad659eaa0dec12a159e015dce1.jpeg)ะกะบะพะฟะธััะนัะต ะปัะฑะพะต ะธะท ััะธั ััะฐะฒะฝะตะฝะธะน ะฒ ัะฒะพั JavaScript-ะบะพะฝัะพะปั.


```
"Aฬ" === "ร"
"ร" === "โซ"
"Aฬ" === "โซ"
```
ะงัะพ ะฟะพะปััะธะปะพัั? False? ะญัะพ ะฝะต ะพัะธะฑะบะฐ. ะฃ ะฒะฐั ะธ ะดะพะปะถะฝะพ ะฟะพะปััะธัััั False.

ะะพะผะฝะธัะต, ั ัะฐััะบะฐะทัะฒะฐะป ะพ ัะพะผ, ััะพ ะฑัะบะฒะฐ รถ ัะพััะพะธั ะธะท ะดะฒัั ะบะพะดะพะฒัั ัะพัะตะบ โ `U+006F U+0308`? ะ ะพะฑัะตะผ ัะปััะฐะต Unicode ะฟัะตะดะปะฐะณะฐะตั ะฝะตัะบะพะปัะบะพ ัะฟะพัะพะฑะพะฒ ะทะฐะฟะธัะธ ัะธะผะฒะพะปะพะฒ ะฒัะพะดะต `รถ` ะธะปะธ `ร`. ะ ะธะผะตะฝะฝะพ:

1. ะะพะถะฝะพ ัะพะฑัะฐัั ัะธะผะฒะพะป `ร` ะธะท ะพะฑััะฝะพะณะพ ะปะฐัะธะฝัะบะพะณะพ A ะธ ะบะพะผะฑะธะฝะธััะตะผะพะณะพ ัะธะผะฒะพะปะฐ.
2. ะะปะธ ะผะพะถะฝะพ ะฟะตัะตะปะพะถะธัั ัะตัะตะฝะธะต ััะพะน ะทะฐะดะฐัะธ ะฝะฐ ัะพะทะดะฐัะตะปะตะน Unicode ะธ ะฒะพัะฟะพะปัะทะพะฒะฐัััั ะฟัะตะดะฒะฐัะธัะตะปัะฝะพ ัะพััะฐะฒะปะตะฝะฝัะผ ัะธะผะฒะพะปะพะผ ั ะบะพะดะพะฒะพะน ัะพัะบะพะน `U+00C5`.

ะะพะปััะธะฒัะธะตัั ัะธะผะฒะพะปั ะฑัะดัั ะฒัะณะปัะดะตัั ะพะดะธะฝะฐะบะพะฒะพ (`Aฬ` ะธ `ร`), ััะฝะบัะธะพะฝะธัะพะฒะฐัั ะพะฝะธ ัะพะถะต ะดะพะปะถะฝั ะพะดะธะฝะฐะบะพะฒะพ. ะ ะพะฝะธ, ะฒะพยะฒัะตั ะพัะฝะพัะตะฝะธัั, ััะธัะฐัััั ะฒยัะพัะฝะพััะธ ะพะดะธะฝะฐะบะพะฒัะผะธ. ะะดะธะฝััะฒะตะฝะฝะฐั ัะฐะทะฝะธัะฐ ะผะตะถะดั ะฝะธะผะธยโ ะธั ะฑะฐะนัะพะฒะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต.

ะะผะตะฝะฝะพ ะฟะพััะพะผั ะฝะฐะผ ะธ ะฝัะถะฝะฐ ะฝะพัะผะฐะปะธะทะฐัะธั Unicode. ะกััะตััะฒัะตั ัะตัััะต ัะพัะผั (ะฐะปะณะพัะธัะผะฐ) ัะฐะบะพะน ะฝะพัะผะฐะปะธะทะฐัะธะธ:

**NFD**ยโ ะฟััะฐะตััั ัะฐะทะฑะธัั ะฒัั ะฝะฐยะบะฐะบยะผะพะถะฝะพ ะฑะพะปะตะต ะผะฐะปะตะฝัะบะธะต ัะฐััะธ, ะธ, ะบัะพะผะต ัะพะณะพ, ะพััะพััะธัะพะฒะฐัั ััะธ ัะฐััะธ ะฒยะบะฐะฝะพะฝะธัะตัะบะพะผ ะฟะพััะดะบะต ะฒยัะพะผ ัะปััะฐะต, ะตัะปะธ ะธั ะฑะพะปััะต ะพะดะฝะพะน.

**NFC**, ัยะดััะณะพะน ััะพัะพะฝั, ะฟััะฐะตััั ัะบะพะผะฑะธะฝะธัะพะฒะฐัั ะฒัั, ััะพยะผะพะถะฝะพ, ัะณััะฟะฟะธัะพะฒะฐะฒ ััะพ ะฒยะฒะธะดะต ะฟัะตะดะฒะฐัะธัะตะปัะฝะพ ัะพััะฐะฒะปะตะฝะฝัั ัะธะผะฒะพะปะพะฒ, ะตัะปะธ ัะฐะบะพะฒัะต ัััะตััะฒััั.

![](https://habrastorage.org/getpro/habr/upload_files/af7/ea8/a0f/af7ea8a0f063ef32a1c9ba7853b2ce95.png)ะ Unicode ะตััั ัะธะผะฒะพะปั, ัััะตััะฒัััะธะต ะฒ ะฝะตัะบะพะปัะบะธั ะฒะฐัะธะฐะฝัะฐั. ะะฐะฟัะธะผะตั, ะตััั ัะธะผะฒะพะป `U+00C5` (ะปะฐัะธะฝัะบะฐั ะทะฐะณะปะฐะฒะฝะฐั ะฑัะบะฒะฐ A ั ะบััะถะพัะบะพะผ ัะฒะตััั) ะธ `U+212B` (ะทะฝะฐะบ ะฐะฝะณัััะตะผะฐ), ะบะพัะพััะต ะฒัะณะปัะดัั ะพะดะธะฝะฐะบะพะฒะพ.

ะขะฐะบะธะต ัะธะผะฒะพะปั ัะพะถะต ะฟะพะดะฒะตัะณะฐัััั ะทะฐะผะตะฝะต ะฒ ัะพะดะต ะฝะพัะผะฐะปะธะทะฐัะธะธ:

![](https://habrastorage.org/getpro/habr/upload_files/8e2/362/48e/8e236248e3a13c4942a0b39b0d24b647.png)NFD ะธ NFC ะฝะฐะทัะฒะฐัั ยซะบะฐะฝะพะฝะธัะตัะบะพะน ะฝะพัะผะฐะปะธะทะฐัะธะตะนยป. ะะฒะต ะดััะณะธะต ัะพัะผั ะฝะพัะผะฐะปะธะทะฐัะธะธ ะฝะฐะทัะฒะฐัั ยซัะพะฒะผะตััะธะผะพะน ะฝะพัะผะฐะปะธะทะฐัะธะตะนยป:

**NFKD**ยโ ะฟััะฐะตััั ัะฐะทะฑะธัั ะฒัั ะฝะฐยัะฐััะธ ะธ ะทะฐะผะตะฝะธัั ะฒะธะทัะฐะปัะฝัะต ะฒะฐัะธะฐะฝัั ะฝะฐยัะต, ััะพยะฟัะธะผะตะฝััััั ะฟะพยัะผะพะปัะฐะฝะธั.

**NFKC**ยโ ะฟััะฐะตััั ะฒัั ัะบะพะผะฑะธะฝะธัะพะฒะฐัั, ะทะฐะผะตะฝัั ะฟัะธยััะพะผ ะฒะธะทัะฐะปัะฝัะต ะฒะฐัะธะฐะฝัั ะฝะฐยัะต, ััะพยะฟัะธะผะตะฝััััั ะฟะพยัะผะพะปัะฐะฝะธั.

![](https://habrastorage.org/getpro/habr/upload_files/947/856/d1b/947856d1b3986cb032a585dee2b6956d.png)ะะธะทัะฐะปัะฝัะต ะฒะฐัะธะฐะฝััยโ ััะพ ะพัะดะตะปัะฝัะต ะบะพะดะพะฒัะต ัะพัะบะธ Unicode, ะบะพัะพััะต ะฟัะตะดััะฐะฒะปััั ะพะดะธะฝ ะธ ัะพัยะถะต ัะธะผะฒะพะป, ะฝะพยะดะพะปะถะฝั ะฒัะฒะพะดะธัััั ะฟะพโัะฐะทะฝะพะผั. ะะฐะฟัะธะผะตัยโ ััะพ โ, ะธะปะธ โน, ะธะปะธ ๐. ะะตะดั ะฝะฐะผ ัะพัะตะปะพัั ะฑั ะธะผะตัั ะฒะพะทะผะพะถะฝะพััั ะฝะฐะนัะธ ะฒ ัััะพะบะต, ะฒัะพะดะต "๐ยฒ", ะธ "x" ะธ "2".

![](https://habrastorage.org/getpro/habr/upload_files/78e/88d/187/78e88d187456f08b42ccd68946a951b4.png)ะ ะฟะพัะตะผั ั ะปะธะณะฐัััั ๏ฌ ะธะผะตะตััั ัะพะฑััะฒะตะฝะฝะฐั ะบะพะดะพะฒะฐั ัะพัะบะฐ? ะะต ะธะผะตั ะฝะธ ะผะฐะปะตะนัะตะณะพ ะฟะพะฝััะธั. ะะฝะพะณะพะต ะผะพะถะตั ะฟะพัะฒะธัััั ะฒ ะฝะฐะฑะพัะต ะธะท ะผะธะปะปะธะพะฝะฐ ัะธะผะฒะพะปะพะฒ.

ะะพัะผะฐะปะธะทัะนัะต ัััะพะบะธ, ะฟัะตะถะดะต ัะตะผ ััะฐะฒะฝะธะฒะฐัั ะธั ะดััะณ ั ะดััะณะพะผ, ะธะปะธ ะฒัะฟะพะปะฝััั ะฟะพะธัะบ ะฟะพะดัััะพะบ!
------------------------------------------------------------------------------------------



---

### Unicode ััะฒััะฒะธัะตะปะตะฝ ะบ ัะตะณะธะพะฝะฐะปัะฝัะผ ะฝะฐัััะพะนะบะฐะผ

ะะผั ยซะะธะบะพะปะฐะนยป ะฝะฐ ััััะบะพะผ ัะทัะบะต ะฒัะณะปัะดะธั ัะฐะบ:

![](https://habrastorage.org/getpro/habr/upload_files/bd1/c67/69d/bd1c6769d60e76bb48312c7a2ebfc7a0.png)ะ Unicode ะพะฝะพ ะบะพะดะธััะตััั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ: `U+041D 0438 043A 043E 043B 0430 0439`.

ะ ัะฐะบะพะต ะถะต ะธะผั ะฝะฐ ะฑะพะปะณะฐััะบะพะผ ะฒัะณะปัะดะธั ัะฐะบ:

![](https://habrastorage.org/getpro/habr/upload_files/597/6ee/708/5976ee7088d57976640742d884af00e4.png)ะะพัยโ ะตะณะพ Unicodeโะบะพะด: `U+041D 0438 043A 043E 043B 0430 0439`. ะะพะดั ัยััะธั ัััะพะบ ะฐะฑัะพะปััะฝะพ ะพะดะธะฝะฐะบะพะฒัะต!

ะยะฟะพะดะพะถะดะธัะตโะบะฐ! ะัะบัะดะฐ ะบะพะผะฟัััะตั ะทะฝะฐะตั ะพยัะพะผ, ะบะพะณะดะฐ ะตะผั ะฒัะฒะพะดะธัั ะณะปะธัั ะฒยะฑะพะปะณะฐััะบะพะผ ััะธะปะต, ะฐยะบะพะณะดะฐยโ ะฒยััััะบะพะผ?

ะัะปะธ ะบะพัะพัะบะพยโ ัะพ ะพะฝ ะพะฑยััะพะผ ะธ ะฝะตยะทะฝะฐะตั. ะยัะพะถะฐะปะตะฝะธั, Unicodeยโ ััะพ ะฝะตยะธะดะตะฐะปัะฝะฐั ัะธััะตะผะฐ. ะะฝะฐ ะธะผะตะตั ะผะฝะพะถะตััะฒะพ ะธะทััะฝะพะฒ. ะกัะตะดะธ ะฝะธัยโ ะฝะฐะทะฝะฐัะตะฝะธะต ะพะดะฝะธั ะธ ัะตัยะถะต ะบะพะดะพะฒัั ัะพัะตะบ ะณะปะธัะฐะผ, ะบะพัะพััะต ะดะพะปะถะฝั ะฒัะณะปัะดะตัั ะฟะพโัะฐะทะฝะพะผั. ะญัะพ, ะฝะฐะฟัะธะผะตั, ะบะธัะธะปะปะธัะตัะบะฐั ัััะพัะฝะฐั ะฑัะบะฒะฐ K ะธ ะฑะพะปะณะฐััะบะฐั ัััะพัะฝะฐั ะฑัะบะฒะฐ ะ (ะพะฑะต ะฟัะตะดััะฐะฒะปะตะฝั ะบะพะดะพะผ U+043A).

ะะฐัะบะพะปัะบะพ ั ะฟะพะฝะธะผะฐั, ัยะถะธัะตะปะตะน ะะทะธะธ [ะฒัั ะตัั ััะถะต](https://en.wikipedia.org/wiki/Han_unification): ะผะฝะพะณะธะต ะบะธัะฐะนัะบะธะต, ัะฟะพะฝัะบะธะต ะธ ะบะพัะตะนัะบะธะต ะปะพะณะพะณัะฐะผะผั, ะฝะฐะฟะธัะฐะฝะธะต ะบะพัะพััั ะพัะตะฝั ัะธะปัะฝะพ ัะฐะทะปะธัะฐะตััั, ะฟัะตะดััะฐะฒะปะตะฝั ะพะดะฝะพะน ะธ ัะพะนยะถะต ะบะพะดะพะฒะพะน ัะพัะบะพะน:

![](https://habrastorage.org/getpro/habr/upload_files/5f0/b8a/fdc/5f0b8afdc0a038a3c9941aa1af3d2746.png)ะะพะปะฐะณะฐั, ััะพ ะพััะฐะถะฐะตั ัััะตะผะปะตะฝะธะต ะพัะณะฐะฝะธะทะฐัะธะธ, ะบะพัะพัะฐั ะทะฐะฝะธะผะฐะตััั ะฟะพะดะดะตัะถะบะพะน Unicode, ะบ ัะบะพะฝะพะผะธะธ ะฟัะพัััะฐะฝััะฒะฐ ะบะพะดะพะฒัั ัะพัะตะบ. ะะฝัะพัะผะฐัะธั ะพ ัะพะผ, ะบะฐะบ ะฒะธะทัะฐะปะธะทะธัะพะฒะฐัั ัะพั ะธะปะธ ะธะฝะพะน ัะธะผะฒะพะป, ะดะพะปะถะฝะฐ ะฑััั ัะฐะทะผะตัะตะฝะฐ ะฒะฝะต ัััะพะบะธ, ะฒ ะฒะธะดะต ะผะตัะฐะดะฐะฝะฝัั ะพ ัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะนะบะฐั/ัะทัะบะต.


> *[...] ะดะปั ะฟัะตะดััะฐะฒะปะตะฝะธั ะปัะฑะพะณะพ ัะธะผะฒะพะปะฐ ะฝะฐ ะปัะฑะพะผ ัะทัะบะต ะฝะต ััะตะฑัะตััั ะฟัะธะผะตะฝััั ัะฟัะฐะฒะปัััะธะต ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ะธะปะธ ัะฟัะฐะฒะปัััะธะต ะบะพะดั.*

ะะฐยะฟัะฐะบัะธะบะต ะทะฐะฒะธัะธะผะพััั ะพัยัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะตะบ ะฝะตััั ัยัะพะฑะพะน ะผะฝะพะถะตััะฒะพ ะฟัะพะฑะปะตะผ:

1. ะขะฐะบ ะบะฐะบยัะตะณะธะพะฝะฐะปัะฝัะต ะฝะฐัััะพะนะบะธยโ ััะพ ะผะตัะฐะดะฐะฝะฝัะต, ะพะฝะธ ัะฐััะพ ัะตัััััั.
2. ะัะดะธ ะฝะตยะพะณัะฐะฝะธัะตะฝั ะตะดะธะฝััะฒะตะฝะฝัะผะธ ัะตะณะธะพะฝะฐะปัะฝัะผะธ ะฝะฐัััะพะนะบะฐะผะธ. ะะฐะฟัะธะผะตั, ั ะผะพะณั ัะธัะฐัั ะธ ะฟะธัะฐัั ัะตะบััั ะฝะฐยะฐะฝะณะปะธะนัะบะพะผ (USA ะธ UK), ะฝะฐยะฝะตะผะตัะบะพะผ ะธ ะฝะฐยััััะบะพะผ ัะทัะบะฐั. ะะฐะบะธะต ัะตะณะธะพะฝะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ ะผะฝะต ะฝะฐะดะพ ัััะฐะฝะพะฒะธัั ะฝะฐยะบะพะผะฟัััะตัะต?
3. ะกะปะพะถะฝะพ ัะพัะตัะฐัั ะธ ะบะพะผะฑะธะฝะธัะพะฒะฐัั ัะธะผะฒะพะปั. ะะฐะฟัะธะผะตั, ััะพ ะพัะฝะพัะธััั ะบยััััะบะธะผ ะธะผะตะฝะฐะผ ะฒยะฑะพะปะณะฐััะบะพะผ ัะตะบััะต ะธะปะธยะบยะฑะพะปะณะฐััะบะธะผ ะธะผะตะฝะฐะผ ะฒยัะตะบััะต ััััะบะพะผ. ะะพัะตะผั ะฝะตั? ะญัะพยโ ะธะฝัะตัะฝะตั, ััั ะฟัะธัััััะฒััั ะฟัะตะดััะฐะฒะธัะตะปะธ ัะฐะผัั ัะฐะทะฝัั ะบัะปัััั.
4. ะะตยะฟัะตะดััะผะพััะตะฝะพ ะฝะฐะปะธัะธะต ััะฐะฝะดะฐััะฝะพะณะพ ะผะตัะฐะฝะธะทะผะฐ ะดะปัยัะบะฐะทะฐะฝะธั ัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะตะบ. ะะฐะถะต ะดะปัยัะพะณะพ ััะพะฑั ัะดะตะปะฐัั ะดะฒะฐ ัะบัะธะฝัะพัะฐ, ะฟะพะบะฐะทะฐะฝะฝัั ัะฐะฝะตะต, ะผะฝะต ะฟัะธัะปะพัั ะฟะพััะฐัะฐัััั, ัะฐะบ ะบะฐะบยะฒยะฑะพะปััะธะฝััะฒะต ะฟัะพะณัะฐะผะผ ะฝะตั ัะตะณะพโัะพ ะฒัะพะดะต ะฒัะฟะฐะดะฐััะตะณะพ ัะฟะธัะบะฐ ะธะปะธยะฟะพะปั ะฒะฒะพะดะฐ ะดะปัยะฒัะฑะพัะฐ ัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะตะบ.
5. ะะพะณะดะฐ ะดะปัยะฒัะฒะพะดะฐ ัะตะบััะฐ ะฝัะถะฝั ัะฒะตะดะตะฝะธั ะพยัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะนะบะฐั, ะฟัะพะณัะฐะผะผั ะฒัะฝัะถะดะตะฝั ะพยะฝะธั ะดะพะณะฐะดัะฒะฐัััั. ะะฐะฟัะธะผะตั, Twitter ะฟััะฐะตััั ะดะพะณะฐะดะฐัััั ะพยัะพะผ, ะบะฐะบะธะต ัะตะณะธะพะฝะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ ะฟัะธะผะตะฝะธัั, ะฝะฐยะพัะฝะพะฒะฐะฝะธะธ ัะฐะผะพะณะพ ัะตะบััะฐ ัะฒะธัะฐ (ะฐ ะพัะบัะดะฐ ะตัั ะธั ะตะผั ะฒะทััั?), ััะพยะธะฝะพะณะดะฐ ะฟัะธะฒะพะดะธั ะบยะพัะธะฑะบะฐะผ.

![](https://habrastorage.org/getpro/habr/upload_files/af5/5ff/9ae/af55ff9ae5cc60944671e6fe65333774.jpeg)### ะะพัะตะผั String::toLowerCase() ะฟัะธะฝะธะผะฐะตั ะฒ ะบะฐัะตััะฒะต ะฐัะณัะผะตะฝัะฐ Locale?

ะัั ะพะดะธะฝ ะฟะตัะฐะปัะฝัะน ะฟัะธะผะตั ะทะฐะฒะธัะธะผะพััะธ Unicode ะพัยัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะตะบยโ ะพะฑัะฐะฑะพัะบะฐ `i` ะฑะตะทยัะพัะบะธ ะฒยัััะตัะบะพะผ ัะทัะบะต.

ะ ะพัะปะธัะธะต ะพั ะฐะฝะณะปะธะนัะบะพะณะพ, ะฒ ัััะตัะบะพะผ ะธะผะตะตััั ะดะฒะฐ ะฒะฐัะธะฐะฝัะฐ `I`: ั ัะพัะบะพะน ะธ ะฑะตะท ัะพัะบะธ. ะกะพะทะดะฐัะตะปะธ Unicode ัะตัะธะปะธ ะฟะพะฒัะพัะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั `I` ะธ `i` ะธะท ASCII ะธ ะดะพะฑะฐะฒะธะปะธ ะฒ ัะฐะฑะปะธัั ะฒัะตะณะพ ะดะฒะต ะฝะพะฒัั ะบะพะดะพะฒัั ัะพัะบะธ โ `ฤฐ` ะธ `ฤฑ`.

ะ ัะพะถะฐะปะตะฝะธั, ััะพ ะฟัะธะฒะตะปะพ ะบ ัะพะผั, ััะพ ะบะพะผะฐะฝะดั `toLowerCase`/`toUpperCase` ะฟะพ-ัะฐะทะฝะพะผั ะฒะตะดัั ัะตะฑั ะฝะฐ ะพะดะฝะธั ะธ ัะตั ะถะต ะฒัะพะดะฝัั ะดะฐะฝะฝัั:


```
var en_US = Locale.of("en", "US");
var tr = Locale.of("tr");

"I".toLowerCase(en_US); // => "i"
"I".toLowerCase(tr);    // => "ฤฑ"

"i".toUpperCase(en_US); // => "I"
"i".toUpperCase(tr);    // => "ฤฐ"
```
ะะพััะพะผั ะผั ะฝะต ะผะพะถะตะผ ะฟัะตะพะฑัะฐะทะพะฒะฐัั ัััะพะบั ะบ ะฝะธะถะฝะตะผั ัะตะณะธัััั, ะฝะต ะทะฝะฐั ะพ ัะพะผ, ะฝะฐ ะบะฐะบะพะผ ัะทัะบะต ััะฐ ัััะพะบะฐ ะฝะฐะฟะธัะฐะฝะฐ.

### ะฏ ะถะธะฒั ะฒ US/UK. ะะฐะดะพ ะปะธ ะผะฝะต ะฒะพะพะฑัะต ะพ ัะฐะบะพะผ ะทะฐะดัะผัะฒะฐัััั?

ะะพะพะฑัะตโัะพยโ ะฝะฐะดะพ. ะะฐะถะต ะฒยัะตะบััะต, ะฝะฐะฟะธัะฐะฝะฝะพะผ ะฝะฐยัะธััะพะผ ะฐะฝะณะปะธะนัะบะพะผ ัะทัะบะต, ะฒัั ะตัั ะธัะฟะพะปัะทัะตััั ะผะฝะพะถะตััะฒะพ ยซัะธะฟะพะณัะฐััะบะธั ะทะฝะฐะบะพะฒยป, ะบะพัะพััั ะฝะตั ะฒยASCII. 

![](https://habrastorage.org/getpro/habr/upload_files/df5/f01/e62/df5f01e62d1417521991582650669165.png)ะะฐะฟัะธะผะตั:

* ะะฐะฒััะบะธ โ โ โ โ,
* ะะฟะพัััะพั โ,
* ะขะธัะต โ โ,
* ะะฐะทะฝัะต ะฒะฐัะธะฐะฝัั ะฟัะพะฑะตะปะพะฒ (ัะธััะพะฒะพะน ะฟัะพะฑะตะป, ัะฐะผัะน ัะพะฝะบะธะน ะฟัะพะฑะตะป, ะฝะตัะฐะทััะฒะฝัะน ะฟัะพะฑะตะป),
* ะะฐัะบะตัั ะฐะฑะทะฐัะตะฒ โข โ โ,
* ะกะธะผะฒะพะปั ะฒะฐะปัั, ะพัะปะธัะฝัะต ะพั $ (ััะพ ะฒัะพะดะต ะบะฐะบ ะฝะฐะผะตะบะฐะตั ะฝะฐ ัะตั, ะบัะพ ะธะทะพะฑััะป ะบะพะผะฟัััะตัั, ะฟัะฐะฒะดะฐ?): โฌ ยข ยฃ,
* ะะฐัะตะผะฐัะธัะตัะบะธะต ะทะฝะฐะบะธ โ ยซะฟะปััยป + ะธ ยซัะฐะฒะฝะพยป = โ ััะพ ัะฐััั ASCII, ะฐ ะทะฝะฐะบ ยซะผะธะฝััยป โ ะธ ะทะฝะฐะบ ัะผะฝะพะถะตะฝะธั ร โ ะฝะตั ยฏ\\_(ใ)\_/ยฏ,
* ะะฐะทะฝัะต ะดััะณะธะต ะทะฝะฐะบะธ ยฉ โข ยถ โ ยง.

ะะฐ ัััั! ะะตะปัะทั ะดะฐะถะต ะฝะฐะฟะธัะฐัั ัะปะพะฒะฐ cafรฉ, piรฑata ะธะปะธ naรฏve ะฑะตะท Unicode. ะะพััะพะผั ะดะฐ โ ะฒัะต ะผั ะฒ ะพะดะฝะพะน ะปะพะดะบะต, ะดะฐะถะต ะฐะผะตัะธะบะฐะฝัั.

Touchรฉ.

### ะงัะพ ัะฐะบะพะต ััััะพะณะฐัะฝัะต ะฟะฐัั?

ะญัะฐ ัะตะผะฐ ะฒะพััะพะดะธั ะบยUnicode v1. ะะตัะฒะฐั ะฒะตััะธั Unicode ะฟะปะฐะฝะธัะพะฒะฐะปะฐัั ะบะฐะบยัะธััะตะผะฐ, ัะพะดะตัะถะฐัะฐั ะบะพะดั ัะธะบัะธัะพะฒะฐะฝะฝะพะน ัะธัะธะฝั. ะยะตัะปะธ ัะพัะฝะตะต, ัะตัั ัะปะฐ ะพยัะธะบัะธัะพะฒะฐะฝะฝะพะน ัะธัะธะฝะต ะบะพะดะพะฒ, ัะฐะฒะฝะพะน 16ยะฑะธัะฐะผ.

![](https://habrastorage.org/getpro/habr/upload_files/65d/013/c6e/65d013c6eeb0a16d46a37b28954e4706.png)ะกะพะทะดะฐัะตะปะธ Unicode ััะธัะฐะปะธ, ััะพ 65ย536ยัะธะผะฒะพะปะพะฒ ะฑัะดะตั ะดะพััะฐัะพัะฝะพ ะดะปัยะฒัะตั ัะตะปะพะฒะตัะตัะบะธั ัะทัะบะพะฒ. ะ ะพะฝะธยะฑัะปะธ ะฟะพััะธ ะฟัะฐะฒั!

ะะพะณะดะฐ ััะฐะปะพ ะฟะพะฝััะฝะพ, ััะพยะฝัะถะฝะพ ะฑะพะปััะต ะบะพะดะพะฒัั ัะพัะตะบ, UCS-2ย(ะธััะพะดะฝะฐั ะฒะตััะธั UTF-16ยะฑะตะทยััััะพะณะฐัะพะฒ) ัะถะต ะธัะฟะพะปัะทะพะฒะฐะปะฐัั ะฒะพยะผะฝะพะณะธั ัะธััะตะผะฐั. 16ยะฑะธัะพะฒ ะธ ัะธะบัะธัะพะฒะฐะฝะฝะฐั ัะธัะธะฝะฐ ะฟะพะปั ะดะฐัั ัะพะปัะบะพ 65ย536ยัะธะผะฒะพะปะพะฒ. ะงัะพยััั ะผะพะถะฝะพ ัะดะตะปะฐัั?

ะะฐะทัะฐะฑะพััะธะบะธ Unicode ัะตัะธะปะธ ะฒัะดะตะปะธัั ะฝะตะบะพัะพััะต ะธะทยััะธั 65ย536ยัะธะผะฒะพะปะพะฒ ะดะปัยะพะฟะธัะฐะฝะธั ะดะพะฟะพะปะฝะธัะตะปัะฝัั ะบะพะดะพะฒัั ัะพัะตะบ, ััะพ, ะฟะพยัััะธ, ะฟัะธะฒะตะปะพ ะบยะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธั ะบะพะดะฐ UCS-2ยัยัะธะบัะธัะพะฒะฐะฝะฝะพะน ัะธัะธะฝะพะน ะฒยะบะพะด ัยะฟะตัะตะผะตะฝะฝะพะน ัะธัะธะฝะพะน UTF-16.

ะกัััะพะณะฐัะฝะฐั ะฟะฐัะฐยโ ััะพ ะดะฒะฐ ะทะฝะฐัะตะฝะธั UTF-16, ะธัะฟะพะปัะทัะตะผัะต ะดะปัยะพะฟะธัะฐะฝะธั ะพะดะฝะพะน ะบะพะดะพะฒะพะน ัะพัะบะธ Unicode. ะะฐะฟัะธะผะตั, `D83D` `DCA9`ย(ะดะฒะฐ 16-ะฑะธัะฝัั ะทะฝะฐัะตะฝะธั) ะพะฟะธััะฒะฐัั ะพะดะฝั ะบะพะดะพะฒัั ัะพัะบัยโ `U+1F4A9`.

ะะตััะฝะธะต 6ยะฑะธัะพะฒ ััััะพะณะฐัะฝะพะน ะฟะฐัั ะธัะฟะพะปัะทััััั ะฒยัะพะปะธ ะผะฐัะบะธ, ะพััะฐะฒะปัั 2ร10ยะฑะธัะพะฒ ะฒยะทะฐะฟะฐัะต.


```
High Surrogate          Low Surrogate
        D800        ++          DC00
1101 10?? ???? ???? ++ 1101 11?? ???? ????
```
ะกยัะตัะฝะธัะตัะบะพะน ัะพัะบะธ ะทัะตะฝะธั ะพะฑะต ะฟะพะปะพะฒะธะฝั ััััะพะณะฐัะฝะพะน ะฟะฐัั ัะพะถะต ะผะพะณัั ัะฐััะผะฐััะธะฒะฐัััั ะบะฐะบยะบะพะดะพะฒัะต ัะพัะบะธ Unicode. ะะฐยะฟัะฐะบัะธะบะต ะฒะตัั ะดะธะฐะฟะฐะทะพะฝ ะบะพะดะพะฒ ะพัย`U+D800`ยะดะพย`U+DFFF` ะฒัะดะตะปะตะฝ ยซะธัะบะปััะธัะตะปัะฝะพ ะดะปัยััััะพะณะฐัะฝัั ะฟะฐัยป. ะะพะดะพะฒัะต ัะพัะบะธ ะธะทยััะพะณะพ ะดะธะฐะฟะฐะทะพะฝะฐ ะดะฐะถะต ะฝะตยะฟัะธะทะฝะฐัััั ะบะพััะตะบัะฝัะผะธ ะฒยะปัะฑัั ะดััะณะธั ะบะพะดะธัะพะฒะบะฐั.

![](https://habrastorage.org/getpro/habr/upload_files/bc9/fed/c6d/bc9fedc6dcfa86e489bcd50f7f2a9501.png)### ะะพะดะธัะพะฒะบะฐ UTF-16 ะฒัั ะตัั ะถะธะฒะฐ?

ะะฐ!

ะะตััะฟะตะบัะธะฒะฐ ัััะตััะฒะพะฒะฐะฝะธั ะบะพะดะธัะพะฒะบะธ ัยัะธะบัะธัะพะฒะฐะฝะฝะพะน ัะธัะธะฝะพะน, ะฒยะบะพัะพััั ะฟะพะผะตัััััั ะฒัะต ัะตะปะพะฒะตัะตัะบะธะต ัะทัะบะธ,ยะฑัะปะฐ ััะพะปั ะฟัะธะฒะปะตะบะฐัะตะปัะฝะพะน, ััะพยัะพะทะดะฐัะตะปะธ ะผะฝะพะณะธั ัะธััะตะผ ะทะฐะณะพัะตะปะธััยะถะตะปะฐะฝะธะตะผ ะบะฐะบยะผะพะถะฝะพยะฑััััะตะต ะตั ัยัะตะฑั ะฒะฝะตะดัะธัั. ะกัะตะดะธ ััะธั ัะธััะตะผยโ Microsoft Windows, ObjectiveโC, Java, JavaScript,.NET, Python 2, QT, SMS ะธ CDโROM!

ะกยัะตั ะฟะพั Python ะฟะพััะป ะดะฐะปััะต, CDโROM ัััะฐัะตะป, ะฐยะฒะพั ะพััะฐะปัะฝัะต ัะธััะตะผั ัะฐะบ ะธ ะทะฐััััะปะธ ะฝะฐยUTF-16, ะธะปะธยะดะฐะถะต ะฝะฐยUCS-2. ะะพััะพะผั ะบะพะดะธัะพะฒะบะฐ UTF-16ยะฒัั ะตัั ะถะธะฒัั ััะดะพะผ ัยะฝะฐะผะธ ะฒยะฒะธะดะต ะฟัะตะดััะฐะฒะปะตะฝะธั ะดะฐะฝะฝัั ะฒยะฟะฐะผััะธ.

ะกยะฟัะฐะบัะธัะตัะบะพะน ัะพัะบะธ ะทัะตะฝะธั, ะฒยะฝะฐัะธ ะดะฝะธ UTF-16ยะฟะพััะธ ัะฐะบยะถะต ัะดะพะฑะฝะพ ะฟะพะปัะทะพะฒะฐัััั, ะบะฐะบยะธ UTF-8. ะญัะพยโ ัะพะถะต ะบะพะดะธัะพะฒะบะฐ ะฟะตัะตะผะตะฝะฝะพะน ะดะปะธะฝั. ะะพะดัััั ะตะดะธะฝะธั UTF-16ยัะฐะบยะถะต ะฑะตัะฟะพะปะตะทะตะฝ, ะบะฐะบยะฟะพะดัััั ะฑะฐะนัะพะฒ ะธะปะธยะบะพะดะพะฒัั ัะพัะตะบ. ะะฐะฑะพัะฐ ัยะณัะฐัะตะผะฝัะผะธ ะบะปะฐััะตัะฐะผะธยโ ัะพะถะต ะฟัะพะฑะปะตะผะฐ. ะญัะพั ัะฟะธัะพะบ ะผะพะถะฝะพ ะฟัะพะดะพะปะถะฐัั. ะะปะฐะฒะฝะพะต ะพัะปะธัะธะต UTF-16ยะพัยUTF-8ยะทะฐะบะปััะฐะตััั ะฒยััะตะฑะพะฒะฐะฝะธัั ะบยะฟะฐะผััะธ.

ะะดะธะฝััะฒะตะฝะฝัะน ะฝะตะดะพััะฐัะพะบ UTF-16ยะทะฐะบะปััะฐะตััั ะฒยัะพะผ, ััะพยะฒัั, ััะพยะพะบััะถะฐะตั ัะธััะตะผั, ะธัะฟะพะปัะทััััั ััั ะบะพะดะธัะพะฒะบั, ะฟัะธะผะตะฝัะตั UTF-8. ะะพััะพะผั ะบะฐะถะดัะน ัะฐะท, ะบะพะณะดะฐ ัััะพะบะฐ ัะธัะฐะตััั ะธะทยัะตัะธ ะธะปะธยัยะดะธัะบะฐ, ะฝัะถะฝะพ ะฟัะธะผะตะฝััั ะบะพะฝะฒะตััะธั.

ะยะฒะพัยโ ะธะฝัะตัะตัะฝัะน ัะฐะบั: ะบะพะปะธัะตััะฒะพ ะฟะปะพัะบะพััะตะน, ะบะพัะพัะพะต ะธะผะตะตััั ะฒยUnicode (17) ะฒัะฑัะฐะฝะพ ะฝะฐยะพัะฝะพะฒะต ัะพะณะพ ะบะพะปะธัะตััะฒะฐ ัะธะผะฒะพะปะพะฒ, ะบะพัะพัะพะต ะผะพะถะฝะพ ะทะฐะดะฐัั ัยะฟะพะผะพััั ััััะพะณะฐัะฝัั ะฟะฐั ะฒยะบะพะดะธัะพะฒะบะต UTF-16.

### ะัะพะณะธ

* ะกัะฐะฝะดะฐัั Unicode ะทะฐะฒะพะตะฒะฐะป ะผะธั.
* UTF-8ยโ ััะพ ัะฐะผะฐั ะฟะพะฟัะปััะฝะฐั ะบะพะดะธัะพะฒะบะฐ ะดะปัยะฟะตัะตะดะฐัะธ ะธ ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั.
* ะะพะดะธัะพะฒะบะฐ UTF-16ยะฒัั ะตัั ะธะฝะพะณะดะฐ ะธัะฟะพะปัะทัะตััั ะดะปัยะฟัะตะดััะฐะฒะปะตะฝะธั ะดะฐะฝะฝัั ะฒยะฟะฐะผััะธ.
* ะะฒะฐ ัะฐะผัั ะฒะฐะถะฝัั ะฟัะตะดััะฐะฒะปะตะฝะธั ัััะพะบยโ ััะพ ะฑะฐะนัะพะฒะพะต ะฟัะตะดััะฐะฒะปะตะฝะธะต (ะฒัะดะตะปะตะฝะธะต ะฟะฐะผััะธ, ะบะพะฟะธัะพะฒะฐะฝะธะต, ะบะพะดะธัะพะฒะฐะฝะธะต, ะดะตะบะพะดะธัะพะฒะฐะฝะธะต) ะธ ะฟัะตะดััะฐะฒะปะตะฝะธะต ะฒยะฒะธะดะต ัะฐััะธัะตะฝะฝัั ะณัะฐัะตะผะฝัั ะบะปะฐััะตัะพะฒ (ะฒัะต ะพะฟะตัะฐัะธะธ, ะดะปัยะฒัะฟะพะปะฝะตะฝะธั ะบะพัะพััั ะฝัะถะฝะพ ััะธััะฒะฐัั ัะตะผะฐะฝัะธะบั ัััะพะบ).
* ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะบะพะดะพะฒัั ัะพัะตะบ ะดะปัยะฟะตัะตะฑะพัะฐ ัะพะดะตัะถะธะผะพะณะพ ัััะพะบยโ ััะพ ะฝะตะฟัะฐะฒะธะปัะฝะพ. ะะพะดะพะฒัะต ัะพัะบะธยโ ััะพ ะฝะตยะพัะฝะพะฒะฝัะต ะตะดะธะฝะธัั ะฟะธััะผะตะฝะฝะพะณะพ ัะตะบััะฐ. ะะดะฝะฐ ะณัะฐัะตะผะฐ ะผะพะถะตั ัะพััะพััั ะธะทยะฝะตัะบะพะปัะบะธั ะบะพะดะพะฒัั ัะพัะตะบ.
* ะะปัยะฒััะฒะปะตะฝะธั ะณัะฐะฝะธั ะณัะฐัะตะผ ะฝัะถะฝั ัะฐะฑะปะธัั Unicode.
* ะัะฟะพะปัะทัะนัะต ะฟะพะดัะพะดัััั ะฑะธะฑะปะธะพัะตะบั ะดะปัยะฒัะฟะพะปะฝะตะฝะธั ะฒัะตั ะพะฟะตัะฐัะธะน, ัะฒัะทะฐะฝะฝัั ัยUnicode, ะดะฐะถะต ะดะปัยัะฐะบะธั ััะธะฒะธะฐะปัะฝัั ะทะฐะดะฐั, ะบะฐะบยัะต, ััะพยัะตัะฐัััั ะบะพะผะฐะฝะดะฐะผะธ strlen, indexOf ะธ substring.
* ะะฑะฝะพะฒะปะตะฝะธั Unicode ะฒััะพะดัั ะบะฐะถะดัะน ะณะพะด, ะฟัะฐะฒะธะปะฐ ะธะฝะพะณะดะฐ ะผะตะฝััััั.
* ะกััะพะบะธ Unicode ะฝัะถะฝะพ ะฟะพะดะฒะตัะณะฐัั ะฝะพัะผะฐะปะธะทะฐัะธะธ ะฟัะตะถะดะต ัะตะผ ะธั ะผะพะถะฝะพ ะฑัะดะตั ััะฐะฒะฝะธะฒะฐัั.
* Unicode ะทะฐะฒะธัะธั ะพัยัะตะณะธะพะฝะฐะปัะฝัั ะฝะฐัััะพะตะบ ะฟัะธยะฒัะฟะพะปะฝะตะฝะธะธ ะฝะตะบะพัะพััั ะพะฟะตัะฐัะธะน ะธ ะฟัะธยะฒัะฒะพะดะต ัะตะบััะพะฒ ะฝะฐยัะบัะฐะฝ.
* ะัั ััะพ ะฒะฐะถะฝะพ ะดะฐะถะต ะดะปัยัะตะบััะพะฒ, ะฝะฐะฟะธัะฐะฝะฝัั ะธัะบะปััะธัะตะปัะฝะพ ะฝะฐยะฐะฝะณะปะธะนัะบะพะผ ัะทัะบะต.

ะยัะตะปะพะผ ะผะพะถะฝะพ ัะบะฐะทะฐัั, ััะพยััะฐะฝะดะฐัั Unicode ะดะฐะปัะบ ะพัยัะพะฒะตััะตะฝััะฒะฐ. ะัะธยััะพะผ ะฝะฐะดะพ ะฟะพะฝะธะผะฐัั, ััะพยัััะตััะฒะพะฒะฐะฝะธะต ััะฐะฝะดะฐััะฐ, ะพัะปะธัะฐััะตะณะพัั ัะปะตะดัััะธะผะธ ัะฒะพะนััะฒะฐะผะธยโ ััะพ ััะพโัะพ, ะฑะปะธะทะบะพะต ะบยััะดั:

* ะญัะพั ััะฐะฝะดะฐัั ะฒะบะปััะฐะตั ะฒยัะตะฑั ััะฐะทั ะฒัะต ัะธะผะฒะพะปั ะฒัะตั ัััะตััะฒัััะธั ัะทัะบะพะฒ.
* ะะตัั ะผะธั ะฟัะธััะป ะบยัะพะณะปะฐัะธั ะฟะพยะฟะพะฒะพะดั ะฟัะธะผะตะฝะตะฝะธั ััะพะณะพ ััะฐะฝะดะฐััะฐ.
* ะะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะพะทะฒะพะปัะตั ะฟะพะปะฝะพัััั ะทะฐะฑััั ะพยะบะพะดะธัะพะฒะบะฐั, ะพยะฟัะตะพะฑัะฐะทะพะฒะฐะฝะธัั ะธ ะพยะฟัะพัะตะผ ะฟะพะดะพะฑะฝะพะผ.

ะัะฟัะฐะฒััะต ััั ััะฐััั ัะฒะพะธะผ ะบะพะปะปะตะณะฐะผโะฟัะพะณัะฐะผะผะธััะฐะผ, ััะพะฑั ะพะฝะธ ัะพะถะต ัะผะพะณะปะธ ัะทะฝะฐัั ะบะพะตโััะพ ะพะฑยUnicode.

ะกััะตััะฒัะตั ัะฐะบะฐั ัััะบะฐ, ะบะฐะบ ยซะพะฑััะฝัะน ัะตะบััยป. ะญัะพ โ ัะตะบัั, ะทะฐะบะพะดะธัะพะฒะฐะฝะฝัะน ั ะฟะพะผะพััั UTF-8.
-----------------------------------------------------------------------------------------

ะ, ะฐ ะฟัะธัะพะดะธัะต ะบ ะฝะฐะผ ัะฐะฑะพัะฐัั? ๐ค ๐ฐะั ะฒย[wunderfund.io](http://wunderfund.io/)ยะทะฐะฝะธะผะฐะตะผััย[ะฒััะพะบะพัะฐััะพัะฝะพะน ะฐะปะณะพัะพัะณะพะฒะปะตะน](https://en.wikipedia.org/wiki/High-frequency_trading)ยั 2014 ะณะพะดะฐ. ะััะพะบะพัะฐััะพัะฝะฐั ัะพัะณะพะฒะปั โ ััะพ ะฝะตะฟัะตััะฒะฝะพะต ัะพัะตะฒะฝะพะฒะฐะฝะธะต ะปัััะธั ะฟัะพะณัะฐะผะผะธััะพะฒ ะธ ะผะฐัะตะผะฐัะธะบะพะฒ ะฒัะตะณะพ ะผะธัะฐ. ะัะธัะพะตะดะธะฝะธะฒัะธัั ะบ ะฝะฐะผ, ะฒั ััะฐะฝะตัะต ัะฐัััั ััะพะน ัะฒะปะตะบะฐัะตะปัะฝะพะน ััะฒะฐัะบะธ.

ะั ะฟัะตะดะปะฐะณะฐะตะผ ะธะฝัะตัะตัะฝัะต ะธ ัะปะพะถะฝัะต ะทะฐะดะฐัะธ ะฟะพ ะฐะฝะฐะปะธะทั ะดะฐะฝะฝัั ะธ low latency ัะฐะทัะฐะฑะพัะบะต ะดะปั ัะฒะปะตัะตะฝะฝัั ะธััะปะตะดะพะฒะฐัะตะปะตะน ะธ ะฟัะพะณัะฐะผะผะธััะพะฒ. ะะธะฑะบะธะน ะณัะฐัะธะบ ะธ ะฝะธะบะฐะบะพะน ะฑััะพะบัะฐัะธะธ, ัะตัะตะฝะธั ะฑััััะพ ะฟัะธะฝะธะผะฐัััั ะธ ะฒะพะฟะปะพัะฐัััั ะฒ ะถะธะทะฝั.

ะกะตะนัะฐั ะผั ะธัะตะผ ะฟะปััะพะฒะธะบะพะฒ, ะฟะธัะพะฝะธััะพะฒ, ะดะฐัะฐ-ะธะฝะถะตะฝะตัะพะฒ ะธ ะผะป-ัะธัะตััะตัะพะฒ.

[ะัะธัะพะตะดะธะฝัะนัะตัั ะบ ะฝะฐัะตะน ะบะพะผะฐะฝะดะต](http://wunderfund.io/#join_us)