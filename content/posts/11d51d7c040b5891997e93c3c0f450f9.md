---
title: –°–æ–∑–¥–∞—ë–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–µ–∫—Ç–∞ –ê–Ω–¥—Ä–µ—è –ö–∞—Ä–ø–∞—Ç–∏
  / –•–∞–±—Ä
date: 2023-12-18
src_link: https://www.notion.so/c7bfc420a7584edb8420e9eefcf335a1
src_date: '2023-12-18 16:16:00'
gold_link: https://habr.com/ru/companies/ruvds/articles/777524/
gold_link_hash: 11d51d7c040b5891997e93c3c0f450f9
tags:
- '#host_habr_com'
---

[![image](https://habrastorage.org/r/w1560/webt/n9/xj/hc/n9xjhc_23a_qddurmum6-c6kyuy.png)](https://habr.com/ru/companies/ruvds/articles/777524/)  

  

–í –∞–ø—Ä–µ–ª–µ 2023 –≥–æ–¥–∞ [–ê–Ω–¥—Ä–µ–π –ö–∞—Ä–ø–∞—Ç–∏](https://karpathy.ai), –æ–¥–∏–Ω –∏–∑ –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–π OpenAI –∏ –±—ã–≤—à–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä –ø–æ –ò–ò –≤ Tesla, –ø–æ–¥–µ–ª–∏–ª—Å—è —Å–≤–æ–∏–º –∑–∞–Ω—è—Ç–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è ‚Äì [—Å–∏—Å—Ç–µ–º–æ–π –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫–∏–Ω–æ](https://awesome-movies.life/).  

  

–ï—ë –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ –ø—Ä–æ—Å—Ç –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏: –±–ª–æ–∫ –ø–æ–∏—Å–∫–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –∫–∏–Ω–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –∏ –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –∏–∑ 40 –ø–æ—Ö–æ–∂–∏—Ö —Ñ–∏–ª—å–º–æ–≤ –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–º—É.  

  

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –ö–∞—Ä–ø–∞—Ç–∏, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–µ–ª–∏–ª—Å—è —Å –ø—É–±–ª–∏–∫–æ–π –µ–≥–æ –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.   

  


**–ò –≤–æ—Ç –ø–æ—á–µ–º—É**
![](https://habrastorage.org/r/w1560/webt/jv/1p/3w/jv1p3wswfhigg9efspcuu3egj4s.png)*[–ò—Å—Ç–æ—á–Ω–∏–∫](https://twitter.com/karpathy/status/1647644308647071745)*  

  


> Chaturvedi: ¬´–ú–æ–∂–µ—Ç, –æ—Ç–∫—Ä–æ–µ—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞?¬ª  
> 
>   
> 
> Andrej Karpathy: ¬´–î–∞–∂–µ –Ω–µ –∑–Ω–∞—é. –û–Ω —Ç–∞–∫–æ–π —Å—Ç—Ä–∞—à–Ω—ã–π, —á—Ç–æ –º–Ω–µ —Å—Ç—ã–¥–Ω–æ¬ª.

  


  

–¢–∞–∫ —á—Ç–æ –∑–∞–ø–∞—Å–∞–π—Ç–µ—Å—å –ø–æ–ø–∫–æ—Ä–Ω–æ–º –∏ –±—É–¥–µ–º –≤–æ—Å—Å–æ–∑–¥–∞–≤–∞—Ç—å –µ–≥–æ —Å–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ OpenAI –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö!  

  

![image](https://habrastorage.org/getpro/habr/post_images/f02/892/5cc/f028925cc7989409dfbc107516efa55c.gif)*–°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ [awesome-movies.life](https://awesome-movies.life/)*  

  

–ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è
---------------

  

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —á–µ—Ç—ã—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:  

  

* OpenAI-–º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (embeddings);
* [–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](https://medium.com/towards-data-science/explaining-vector-databases-in-3-levels-of-difficulty-fc392e48ab78) Weaviate –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π, –∑–∞–ø–æ–ª–Ω—è–µ–º–∞—è —Å–∫—Ä–∏–ø—Ç–æ–º Python;
* —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: HTML, CSS, JS;
* –±—ç–∫–µ–Ω–¥: NodeJs.

  

–ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è:  

* Python –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î;
* Docker –∏ Docker-Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ë–î;
* Node.js –∏ npm –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è;
* –∫–ª—é—á OpenAI API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª–∏ OpenAI.

  

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤
---------------------------------

  

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –ö–∞—Ä–ø–∞—Ç–∏ –∏ –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å –µ–≥–æ —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∏—Å—É—â–∏–º–∏ –µ–º—É –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏. –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–∏—Å–∫–∞ –∫–∏–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:  

  

* –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞: —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Ñ–∏–ª—å–º–æ–≤;
* —à–∞–≥ 1: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π;
* —à–∞–≥ 2: –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤;
* —à–∞–≥ 3: –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ—Ö–æ–∂–∏—Ö —Ñ–∏–ª—å–º–æ–≤;
* —à–∞–≥ 4: –∑–∞–ø—É—Å–∫ –¥–µ–º–æ.

  

–í–µ—Å—å –∫–æ–¥ –ª–µ–∂–∏—Ç –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –Ω–∞ [GitHub](https://github.com/weaviate-tutorials/awesome-moviate).  

  

### ‚ñç –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Ñ–∏–ª—å–º–æ–≤

  

–ü—Ä–æ–µ–∫—Ç –ö–∞—Ä–ø–∞—Ç–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç 11 762 —Ñ–∏–ª—å–º–∞, –≤—ã—à–µ–¥—à–∏—Ö —Å –Ω–∞—á–∞–ª–∞ 1970 –≥–æ–¥–∞, –≤–∫–ª—é—á–∞—è –æ–ø–∏—Å–∞–Ω–∏–µ —Å—é–∂–µ—Ç–∞ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏.  

  

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—á—Ç–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ, –Ω–µ –ø—Ä–∏–±–µ–≥–∞—è –∫ —Ä—É—á–Ω–æ–º—É —Å–∫—Ä–µ–π–ø–∏–Ω–≥—É –í–∏–∫–∏–ø–µ–¥–∏–∏, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞–º–∏ —Å Kaggle:  

  

* [–¥–∞—Ç–∞—Å–µ—Ç —Å 48 000+ —Ñ–∏–ª—å–º–æ–≤](https://www.kaggle.com/datasets/yashgupta24/48000-movies-dataset) (–ª–∏—Ü–µ–Ω–∑–∏—è: [CC0: Public Domain](https://creativecommons.org/publicdomain/zero/1.0/)) –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ `'id'`, `'name'`, `'PosterLink'`, `'Genres'`, `'Actors'`, `'Director'`, `'Description'`, `'Keywords'` –∏ `'DatePublished'`;
* [Wikipedia Movie Plots](https://www.kaggle.com/datasets/jrobischon/wikipedia-movie-plots) (–ª–∏—Ü–µ–Ω–∑–∏—è: [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/)) –¥–ª—è —Å—Ç–æ–ª–±—Ü–∞ `'plot'`.

  

–≠—Ç–∏ –¥–≤–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ —Å–æ–≤–º–µ—â–∞—é—Ç—Å—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –≥–æ–¥—É –≤—ã–ø—É—Å–∫–∞ —Ñ–∏–ª—å–º–∞, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è, –æ—Å—Ç–∞–≤–ª—è—è –∫–∞—Ä—Ç–∏–Ω—ã, –≤—ã—à–µ–¥—à–∏–µ –ø–æ—Å–ª–µ 1970. –í—Å–µ —ç—Ç–∞–ø—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ `[add_data.py](https://github.com/weaviate-tutorials/awesome-moviate/blob/main/add_data.py)`. –ü–æ–ª—É—á–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Ñ—Ä–µ–π–º —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 35 000 —Ñ–∏–ª—å–º–æ–≤, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –æ–∫–æ–ª–æ 8500, –ø–æ–º–∏–º–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, —Ç–∞–∫–∂–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å—é–∂–µ—Ç–∞.   

  

![](https://habrastorage.org/r/w1560/webt/0e/xl/xg/0exlxgtcma6mewukzzn-lofdr_y.png)  

*–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –¥–∞—Ç–∞—Ñ—Ä–µ–π–º —Ñ–∏–ª—å–º–æ–≤*  

  

### ‚ñç –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π

  

–ö–ª—é—á–µ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —ç—Ç–æ–≥–æ –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç–∞ –≤—ã—Å—Ç—É–ø–∞—é—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∏–ª—å–º–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–æ–¥—Å—Ç–≤–∞. –í –ø—Ä–æ–µ–∫—Ç–µ –ö–∞—Ä–ø–∞—Ç–∏ –¥–ª—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ñ–∏–ª—å–º–æ–≤ –∏ –∏—Ö —Å—é–∂–µ—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –¥–≤—É—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:  

  

* –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å ¬´—á–∞—Å—Ç–æ—Ç–∞ —Ç–µ—Ä–º–∏–Ω–∞ ‚Äì –æ–±—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞¬ª (TF-IDF, Term Frequency-Inverse Document Frequency), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –±–∏–≥—Ä–∞–º–º—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã –≤—Ö–æ–∂–¥–µ–Ω–∏–π –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–±—â–µ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å–ª–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
* –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π [`text-embedding-ada-002`](https://platform.openai.com/docs/guides/embeddings/what-are-embeddings) –æ—Ç OpenAI, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞.

  

–ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, —Å—Ö–æ–¥—Å—Ç–≤–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ —Å—é–∂–µ—Ç–∞ —Ñ–∏–ª—å–º–∞ –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ –¥–≤—É—Ö —Å–ø–æ—Å–æ–±–æ–≤:  

  

* –º–µ—Ç–æ–¥–∞ k-–±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π (kNN), –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ;
* –º–µ—Ç–æ–¥–∞ –æ–ø–æ—Ä–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤.

  

–î–ª—è —Ö–æ—Ä–æ—à–µ–π –∏ –±—ã—Å—Ç—Ä–æ–π –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ö–∞—Ä–ø–∞—Ç–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –º–æ–¥–µ–ª–∏ `text-embedding-ada-002` –∏ kNN.  

  

–ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ–µ ‚Äì –∫–∞–∫ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—Ç–∏–ª —Å–∞–º –∞–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞, –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `np.array`:  

  

![](https://habrastorage.org/r/w1560/webt/43/p_/bd/43p_bdpjfjzsnikbu7gekpkvgue.png)  

*[–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π](https://twitter.com/karpathy/status/1647374645316968449) –ø–æ–¥ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Ç–≤–∏—Ç–æ–º*  

  


> Hugh Anon: ¬´–ê –∫–∞–∫ –≤—ã —Å–æ—Ö—Ä–∞–Ω—è–ª–∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è?¬ª  
> 
>   
> 
> Andrej Karpathy: ¬´–í `np.array`. –°–µ–≥–æ–¥–Ω—è –ª—é–¥–∏ –∑–∞—á–∞—Å—Ç—É—é —Å–ø–µ—à–∞—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—á—Ç–æ —Å–ª–∏—à–∫–æ–º –Ω–∞–≤–æ—Ä–æ—á–µ–Ω–Ω–æ–µ¬ª.

  

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã —Ç–∞–∫–∂–µ –∑–∞–¥–µ–π—Å—Ç–≤—É–µ–º –º–æ–¥–µ–ª—å `text-embedding-ada-002` –æ—Ç OpenAI, –Ω–æ –±—É–¥–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –µ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.  

  

–ï—Å–ª–∏ —Ç–æ—á–Ω–µ–µ, —Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–æ–π –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º—ã –≤–æ–∑—å–º—ë–º Weaviate. –ò —Ö–æ—Ç—è —è –º–æ–≥ –±—ã –ø–æ—Å–ø–æ—Ä–∏—Ç—å, —á—Ç–æ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ë–î —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ `np.array`, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ, –±—É–¥–µ–º —á–µ—Å—Ç–Ω—ã: –ø—Ä–∏ –Ω–∞—à–µ–º –º–∞—Å—à—Ç–∞–±–µ, –∏–∑–º–µ—Ä—è–µ–º–æ–º –≤ —Ç—ã—Å—è—á–∞—Ö, —Ä–∞–∑–Ω–∏—Ü—ã –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã –Ω–µ –∑–∞–º–µ—Ç–∏—Ç–µ. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–¥–µ—Å—å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î —Å—Ç–∞–ª–æ —Ç–æ, —á—Ç–æ Weaviate –∏–º–µ–µ—Ç –±–æ–≥–∞—Ç—É—é –∏ –≥–æ—Ç–æ–≤—É—é –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤—Ä–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.  

  

–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Ñ–∞–π–ª–µ `add_data.py`, –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ Weaviate, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É –ë–î Weaviate. –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–¥–µ—Å—å –∫–ª—é—á OpenAI API, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ OpenAI.  

  


```
# pip weaviate-client
import weaviate
import os

openai_key = os.environ.get("OPENAI_API_KEY", "")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞.
client = weaviate.Client(
    url = "http://localhost:8080",
    additional_headers={
         "X-OpenAI-Api-Key": openai_key,
    })
```
  

–î–∞–ª–µ–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º Movies –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–∏–ª—å–º–∞—Ö. –≠—Ç–æ –±—É–¥–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü—ã –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î. –ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä–∞ –º–æ–¥—É–ª—å `text2vec-openai`, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∏—Ö –∏–º–ø–æ—Ä—Ç–µ –∏ –∑–∞–ø—Ä–æ—Å–µ. –ê –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–∞–º–æ–≥–æ –º–æ–¥—É–ª—è –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π `text-embedding-ada-002`. –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ, –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –º–µ—Ä—ã —Å—Ö–æ–¥—Å—Ç–≤–∞ –∫–æ—Å–∏–Ω—É—Å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç.  

  


```
movie_class_schema = {
    "class": "Movies",
    "description": "A collection of movies since 1970.",
    "vectorizer": "text2vec-openai",
    "moduleConfig": {
        "text2vec-openai": {
            "vectorizeClassName": False,
            "model": "ada",
            "modelVersion": "002",
            "type": "text"
        },
    },
    "vectorIndexConfig": {"distance" : "cosine"},
}
```
  

–î–∞–ª–µ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –∏ –≤—ã–±–∏—Ä–∞–µ–º, –¥–ª—è –∫–∞–∫–∏—Ö –∏–∑ –Ω–∏—Ö –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. –í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –Ω–∏–∂–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ –∫–æ–¥–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ –¥–ª—è —Å–≤–æ–π—Å—Ç–≤ `movie_id` –∏ `title` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –¥–ª—è –º–æ–¥—É–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `"skip" : True`. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è `description` –∏ `plot`.  

  


```
movie_class_schema["properties"] = [
        {
            "name": "movie_id",
            "dataType": ["number"],
            "description": "The id of the movie", 
            "moduleConfig": {
                "text2vec-openai": {  
                    "skip" : True,
                    "vectorizePropertyName" : False
                }
            }        
        },
        {
            "name": "title",
            "dataType": ["text"],
            "description": "The name of the movie", 
            "moduleConfig": {
                "text2vec-openai": {  
                    "skip" : True,
                    "vectorizePropertyName" : False
                }
            }   
        },
        # –°–æ–∫—Ä–∞—â–µ–Ω–æ...
        {
            "name": "description",
            "dataType": ["text"],
            "description": "overview of the movie", 
        },
        {
            "name": "Plot",
            "dataType": ["text"],
            "description": "Plot of the movie from Wikipedia", 
        },
    ]

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
client.schema.create_class(movie_class_schema)
```
  

–ù–∞–∫–æ–Ω–µ—Ü, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:  

  


```
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞
client.batch.configure(batch_size=10)

# –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
for i in range(len(df)):
    item = df.iloc[i]

    movie_object = {
        'movie_id':float(item['id']),
        'title': str(item['Name']).lower(),
        # –°–æ–∫—Ä–∞—â–µ–Ω–æ...
        'description':str(item['Description']),
        'plot': str(item['Plot']),
    }

    client.batch.add_data_object(movie_object, "Movies")
```
  

### ‚ñç –®–∞–≥ 2: –ø–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤

  

–í –ø—Ä–æ–µ–∫—Ç–µ –ö–∞—Ä–ø–∞—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º, —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—è –∑–∞–ø—Ä–æ—Å —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ñ–∏–ª—å–º–æ–≤ –∏ –≤—ã–¥–∞–≤–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –ö–æ–≥–¥–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ª—é–¥–∏ –Ω–∞—á–∞–ª–∏ –ø–∏—Å–∞—Ç—å, —á—Ç–æ –æ–∂–∏–¥–∞–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤, –ö–∞—Ä–ø–∞—Ç–∏ —Å–æ–≥–ª–∞—Å–∏–ª—Å—è, —á—Ç–æ —ç—Ç–æ –±—ã —Å—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–∏–º –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞:  

  

![](https://habrastorage.org/r/w1560/webt/hb/4l/lf/hb4llffpfs-koqpmhfxoqhhdvgu.png)  

*[–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π](https://twitter.com/karpathy/status/1647376961902366720) –ø–æ–¥ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Ç–≤–∏—Ç–æ–º*  

  


> Andrej Karpathy: ¬´–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–µ–π—á–∞—Å –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏ –∏—Å–∫–∞—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∏–º. –≠—Ç–æ –±—ã —Å—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–∏–º –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –Ø –≤–∫—Ä–∞—Ç—Ü–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏, –Ω–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –¥–æ–±–∞–≤–ª—è–ª, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –ø–æ–∫–∞–∑–∞–ª–∞—Å—å –º–Ω–µ —Å–ª–µ–≥–∫–∞ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π¬ª.

   

–í —Ç–µ–∫—É—â–µ–º –∂–µ –ø—Ä–æ–µ–∫—Ç–µ —Ñ–∞–π–ª–µ `[queries.js](https://github.com/weaviate-tutorials/awesome-moviate/blob/main/queries.js)` —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —Ç—Ä–∏ –≤–∏–¥–∞ –ø–æ–∏—Å–∫–∞:  

  

* –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º ([BM25](https://weaviate.io/developers/weaviate/search/bm25));
* —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫;
* [–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫](https://weaviate.io/developers/weaviate/search/hybrid), –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –¥–≤—É—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö.

  

–ö–∞–∂–¥—ã–π –∏–∑ —ç—Ç–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –ø–æ–∏—Å–∫–∞ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `num_movies = 20` —Ñ–∏–ª—å–º–æ–≤ —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ `['title', 'poster_link', 'genres', 'year', 'director', 'movie_id']`.  

  

–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å `.withBm25()` –ø–æ —Å–≤–æ–π—Å—Ç–≤–∞–º `['title', 'director', 'genres', 'actors', 'keywords', 'description', 'plot']`. –ü—Ä–∏ —ç—Ç–æ–º —Å–≤–æ–π—Å—Ç–≤—É `'title'` –º–æ–∂–Ω–æ –ø—Ä–∏–¥–∞—Ç—å –±–æ–ª—å—à–∏–π –≤–µ—Å, —É–∫–∞–∑–∞–≤ `'title^3'`.  

  


```
async function get_keyword_results(text) {
    let data = await client.graphql
        .get()
        .withClassName('Movies')
        .withBm25({query: text,
            properties: ['title^3', 'director', 'genres', 'actors', 'keywords', 'description', 'plot'],
        })
        .withFields(['title', 'poster_link', 'genres', 'year', 'director', 'movie_id'])
        .withLimit(num_movies)
        .do()
        .then(info => {
            return info
        })
        .catch(err => {
            console.error(err)
        })
    return data;
}
```
  

–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å `.withNearText()`. –û–Ω –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ñ–∏–ª—å–º—ã.  

  


```
async function get_semantic_results(text) {
    let data = await client.graphql
        .get()
        .withClassName('Movies')
        .withFields(['title', 'poster_link', 'genres', 'year', 'director', 'movie_id'])
        .withNearText({concepts: [text]})
        .withLimit(num_movies)
        .do()
        .then(info => {
            return info
        })
        .catch(err => {
            console.error(err)
        });
        return data;
}
```
  

–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å `.withHybrid()`. –ü–∞—Ä–∞–º–µ—Ç—Ä `alpha : 0.5` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏–º–µ—é—Ç —Ä–∞–≤–Ω—ã–π –≤–µ—Å.  

  


```
async function get_hybrid_results(text) {
    let data = await client.graphql
        .get()
        .withClassName('Movies')
        .withFields(['title', 'poster_link', 'genres', 'year', 'director', 'movie_id'])
        .withHybrid({query: text, alpha: 0.5})
        .withLimit(num_movies)
        .do()
        .then(info => {
            return info
        })
        .catch(err => {
            console.error(err)
        });
    return data;
}
```
  

### ‚ñç –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ—Ö–æ–∂–∏—Ö —Ñ–∏–ª—å–º–æ–≤

  

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ—Ö–æ–∂–∏—Ö —Ñ–∏–ª—å–º–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å `.withNearObject()`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Ñ–∞–π–ª–µ `queries.js`. –ü–µ—Ä–µ–¥–∞–≤–∞—è `id` —Ñ–∏–ª—å–º–∞, –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ `num_movies = 20` —Ñ–∏–ª—å–º–æ–≤, –Ω–∞–∏–±–æ–ª–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —É–∫–∞–∑–∞–Ω–Ω–æ–º—É.  

  


```
async function get_recommended_movies(mov_id) {
    let data = await client.graphql
        .get()
        .withClassName('Movies')
        .withFields(['title', 'genres', 'year', 'poster_link', 'movie_id'])
        .withNearObject({id: mov_id})
        .withLimit(20)
        .do()
        .then(info => {
            return info;
        })
        .catch(err => {
            console.error(err)
        });
    return data;
}
```
  

### ‚ñç –®–∞–≥ 4: –∑–∞–ø—É—Å–∫ –¥–µ–º–æ

  

–ù–∞–∫–æ–Ω–µ—Ü, –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –≤—Å—ë –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫—É–ª—å—Ç–æ–≤–æ–π —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–µ [GeoCities](https://en.wikipedia.org/wiki/GeoCities) –∏–∑ 2000-—Ö (–Ω–µ —Å—Ç–∞–Ω—É —É—Ç–æ–º–ª—è—Ç—å –≤–∞—Å –¥–µ—Ç–∞–ª—è–º–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞) –∏ –≤—É–∞–ª—è! –í—Å—ë –≥–æ—Ç–æ–≤–æ!  

  

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–µ–º–æ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub](https://github.com/weaviate-tutorials/awesome-moviate).  

  


```
git clone git@github.com:weaviate-tutorials/awesome-moviate.git
```
  

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ –¥–µ–º–æ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É.  

  


```
python -m venv .venv             
source .venv/bin/activate
```
  

[–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –Ω–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã](https://stackoverflow.com/questions/9554087/setting-an-environment-variable-in-virtualenv) –¥–ª—è `$OPENAI_API_KEY`. –¢–∞–∫–∂–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —ç—Ç–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:  

  


```
pip install -r requirements.txt
```
  

–¢–µ–ø–µ—Ä—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Weaviate —á–µ—Ä–µ–∑ Docker —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `OPENAI_API_KEY` –≤ —Ñ–∞–π–ª–µ `docker-compose.yml` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:  

  


```
docker compose up -d
```
  

–ù–∞—Å—Ç—Ä–æ–∏–≤ —ç–∫–∑–µ–º–ø–ª—è—Ä Weaviate, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `add_data.py` –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.  

  


```
python add_data.py
```
  

–ß—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏.  

  


```
npm install
```
  

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–ª—è –µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:  

  


```
npm run start
```
  

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –Ω–∞—á–∏–Ω–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ –∞–¥—Ä–µ—Å—É `[http://localhost:3000/](http://localhost:3000/)`.  

  

–û–±–æ–±—â–µ–Ω–∏–µ
---------

  

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã –≤–æ—Å—Å–æ–∑–¥–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç –ê–Ω–¥—Ä–µ—è –ö–∞—Ä–ø–∞—Ç–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ —Å–∏—Å—Ç–µ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —Ñ–∏–ª—å–º–æ–≤. –ù–∏–∂–µ —è –ø—Ä–∏–∫—Ä–µ–ø–∏–ª –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –¥–µ–π—Å—Ç–≤–∏–∏:  

  

![image](https://habrastorage.org/getpro/habr/post_images/f02/892/5cc/f028925cc7989409dfbc107516efa55c.gif)*–°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ [awesome-movies.life](https://awesome-movies.life/)*  

  

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞, –≤ –º–æ–µ–π —Å–∏—Å—Ç–µ–º–µ –ø–æ–∏—Å–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —è —Ä–∞—Å—à–∏—Ä–∏–ª –µ—ë —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –≤–∫–ª—é—á–∏–≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∏ –≥–∏–±—Ä–∏–¥–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–∏—Å–∫–∞.  

  

–ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–≤ —Å —ç—Ç–∏–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º, –≤—ã –∑–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –æ–Ω –Ω–µ –∏–¥–µ–∞–ª–µ–Ω. –ö–∞–∫ –æ—Ç–º–µ—Ç–∏–ª —Å–∞–º –ö–∞—Ä–ø–∞—Ç–∏:  

  


> ¬´–†–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø–ª–æ—Ö–æ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª.

  

–ö–∞–∫ —è —É–∂–µ –ø–∏—Å–∞–ª, –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub, —Ç–∞–∫ —á—Ç–æ –º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ —Å–≤–æ–∏–º–∏ –∏–¥–µ—è–º–∏.   

  

–í –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –º–æ–∂–Ω–æ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤, –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–≤–µ—Å–æ–≤–∫—É –º–µ–∂–¥—É –ø–æ–∏—Å–∫–æ–º –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º, –∞ —Ç–∞–∫–∂–µ –∑–∞–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π.  

  


> **[–°–∫–∏–¥–∫–∏, –∏—Ç–æ–≥–∏ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∏ –Ω–æ–≤–æ—Å—Ç–∏ –æ —Å–ø—É—Ç–Ω–∏–∫–µ RUVDS ‚Äî –≤ –Ω–∞—à–µ–º Telegram-–∫–∞–Ω–∞–ª–µ üöÄ](https://t.me/ruvds_community)**

[![](https://habrastorage.org/r/w1560/webt/4g/dr/oa/4gdroaajo7o0zzvwwx5__rlzhwi.png)](http://ruvds.com/ru-rub?utm_source=habr&utm_medium=article&utm_campaign=Bright_Translate&utm_content=sozdayom_sobstvennuyu_sistemu_poiska_filmov_na_osnove_proekta_andreya_karpati)